webpackJsonp([25],{A8tO:function(t,s,i){"use strict";var e=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"address"},[i("ul",{staticClass:"ui-links"},t._l(t.list,function(s,e){return i("li",{key:e},[1==t.is_use?i("div",{staticStyle:{"margin-right":"10px"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.checked,expression:"checked"}],staticClass:"ui-checkbox",attrs:{type:"radio",name:"address"},domProps:{value:e,checked:t._q(t.checked,e)},on:{change:function(s){t.checked=e}}})]):t._e(),t._v(" "),i("div",{staticClass:"info f"},[i("div",{staticClass:"title"},[i("div",{staticClass:"flex"},[i("span",[t._v("收货人：")]),t._v(" "),i("i",[t._v(t._s(s.user_name))])]),t._v(" "),i("div",{staticClass:"flex"},[i("span",[t._v("手机号：")]),t._v(" "),i("i",[t._v(t._s(s.phone))])]),t._v(" "),i("div",{staticClass:"flex"},[i("span",[t._v("配送至：")]),t._v(" "),s.province==s.city?i("i",[t._v("\n                           "+t._s(s.city)+"市 "+t._s(s.area)+" "+t._s(s.address)+"\n                        ")]):i("i",[t._v(t._s(s.province)+"省 "+t._s(s.city)+"市 "+t._s(s.area)+" "+t._s(s.address))])])]),t._v(" "),i("div",{staticClass:"tool"},[1==s.is_default?i("span",{staticClass:"skin"},[t._v("默认地址")]):i("span",{staticClass:"ui-btn ui-btn-setDef",on:{click:function(s){t.set_default(e)}}},[t._v("设为默认")]),t._v(" "),i("span",{staticClass:"ui-btn ui-btn-edit",on:{click:function(i){t.goto("/edit_address/id/"+s.id)}}},[i("i",{staticClass:"iconfont icon-bianji"}),t._v(" 编辑")])])]),t._v(" "),i("i",{staticClass:"iconfont icon-shanchu ",on:{click:function(s){t.ondel(e)}}})])})),t._v(" "),t.list.length<1?i("div",{staticClass:"nodata"},[i("i",{staticClass:"iconfont icon-tongyongmeiyoushuju"}),t._v(" "),i("div",[t._v("没有找到数据")])]):t._e(),t._v(" "),i("div",{staticClass:"add_address",on:{click:function(s){t.goto("/add_address")}}},[i("i",{staticClass:"iconfont icon-jia"}),t._v(" 添加地址\n    ")]),t._v(" "),i("div",{staticClass:"space"}),t._v(" "),1==t.is_use?i("div",{staticClass:"btn-wrap"},[i("div",{staticClass:"btn-fixed"},[i("button",{staticClass:"ui-btn ui-btn-block ui-btn-l2",attrs:{type:"button"},on:{click:function(s){t.do_use()}}},[t._v("选择并使用")])])]):t._e()])},n=[],a={render:e,staticRenderFns:n};s.a=a},FUEW:function(t,s,i){"use strict";var e=i("MSrN");s.a={name:"class",mixins:[e.default],data:function(){return{list:[],is_use:0,checked:""}},methods:{do_use:function(){if(""===this.checked)return this.$msg("请选择地址"),!1;this.setAddress(this.list[this.checked]),this.goto("/confirm")},set_default:function(t){var s=this,i={id:this.list[t].id};this.apiPost("/mini/Address/setdefault",i).then(function(i){i.code?(s.$msg(i.msg),s.map_default(t)):s.handleError(i)})},map_default:function(t){for(var s=this.list,i=0;i<s.length;i++)s[i].is_default=i==t?"1":"0";this.list=s},ondel:function(t){var s=this;this.$confirm({msg:"确定删除此地址？",yes:function(){s.del(t)}})},del:function(t){var s=this,i={id:this.list[t].id};this.apiPost("/mini/Address/del",i).then(function(i){i.code?(s.$msg(i.msg),s.get_list(),s.checkStorage(s.list[t].id)):s.handleError(i)})},checkStorage:function(t){var s=window.localStorage.getItem("__Select_Address__");s&&(s=JSON.parse(s),s.id==t&&window.localStorage.removeItem("__Select_Address__"))},get_list:function(t){var s=this;s.loading=!0,this.apiGet("/mini/Address/get_list",{}).then(function(t){t.code?s.list=t.data:s.handleError(t),s.loading=!1})}},created:function(){this.setTitle("收货地址"),this.get_list(),this.is_use=this.$route.params.is_use,1==this.is_use&&this.setTitle("选择地址")}}},oAQi:function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=i("FUEW"),n=i("A8tO"),a=i("VU/8"),c=a(e.a,n.a,!1,null,null,null);s.default=c.exports}});
//# sourceMappingURL=address.689b.js.map