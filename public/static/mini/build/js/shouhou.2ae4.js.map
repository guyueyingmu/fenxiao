{"version":3,"sources":["webpack:///build/js/shouhou.2ae4.js","webpack:///./src/mini/components/shouhou.vue","webpack:///./src/mini/components/shouhou.vue?49a7","webpack:///src/mini/components/shouhou.vue"],"names":["webpackJsonp","4gCn","module","__webpack_exports__","__webpack_require__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_shouhou_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_4b161dcc_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_shouhou_vue__","normalizeComponent","Component","Bijm","render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","expression","staticClass","class","active","tagsIdx","on","click","$event","_v","list","length","attrs","infinite-scroll-disabled","sloading","infinite-scroll-immediate-check","infinite-scroll-distance","_l","item","key","id","_s","order_number","good","src","good_img","width","height","good_title","pay_method","credits","price","buy_num","status","loading","_e","staticRenderFns","esExports","P3wk","__WEBPACK_IMPORTED_MODULE_0__assets_js_http__","mixins","data","refund_list","exchange_list","r_pages","e_pages","computed","methods","loadMore","page","parseInt","current_page","total_page","get_list","_page","idx","exchange","url","vm","apiGet","then","res","code","pages","handleError","refund","created","setTitle"],"mappings":"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","file":"build/js/shouhou.2ae4.js","sourcesContent":["webpackJsonp([11],{\n\n/***/ \"4gCn\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_shouhou_vue__ = __webpack_require__(\"P3wk\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_4b161dcc_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_shouhou_vue__ = __webpack_require__(\"Bijm\");\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_shouhou_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_4b161dcc_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_shouhou_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"Bijm\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    directives: [{\n      name: \"loading\",\n      rawName: \"v-loading\",\n      value: (_vm.loading),\n      expression: \"loading\"\n    }]\n  }, [_c('div', {\n    staticClass: \"ui-tags\"\n  }, [_c('span', {\n    class: {\n      'active': _vm.tagsIdx == 1\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.tagsIdx = 1\n      }\n    }\n  }, [_vm._v(\"退款记录\")]), _vm._v(\" \"), _c('span', {\n    class: {\n      'active': _vm.tagsIdx == 2\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.tagsIdx = 2\n      }\n    }\n  }, [_vm._v(\"换货记录\")])]), _vm._v(\" \"), _c('ul', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.list.length > 0),\n      expression: \"list.length > 0\"\n    }, {\n      name: \"infinite-scroll\",\n      rawName: \"v-infinite-scroll\",\n      value: (_vm.loadMore),\n      expression: \"loadMore\"\n    }],\n    staticClass: \"order-list\",\n    attrs: {\n      \"infinite-scroll-disabled\": _vm.sloading,\n      \"infinite-scroll-immediate-check\": false,\n      \"infinite-scroll-distance\": 10\n    }\n  }, _vm._l((_vm.list), function(item) {\n    return _c('li', {\n      key: item.id\n    }, [_c('div', {\n      staticClass: \"h\"\n    }, [_vm._v(\"订单号：\" + _vm._s(item.order_number))]), _vm._v(\" \"), _vm._l((item.orders_goods), function(good) {\n      return _c('div', {\n        key: good.id,\n        staticClass: \"m\"\n      }, [_c('img', {\n        attrs: {\n          \"src\": good.good_img,\n          \"width\": \"50\",\n          \"height\": \"50\"\n        }\n      }), _vm._v(\" \"), _c('div', {\n        staticClass: \"info\"\n      }, [_c('div', {\n        staticClass: \"title\"\n      }, [_vm._v(_vm._s(good.good_title))])]), _vm._v(\" \"), _c('div', {\n        staticClass: \"tool\"\n      }, [(item.pay_method == 3) ? _c('div', [_vm._v(\"积分 \" + _vm._s(good.credits))]) : _c('div', [_vm._v(\"￥\" + _vm._s(good.price))]), _vm._v(\" \"), _c('div', [_vm._v(\"x \" + _vm._s(good.buy_num))])])])\n    }), _vm._v(\" \"), _c('div', {\n      staticClass: \"b\"\n    }, [_c('div', [_vm._v(\"\\n                    售后进度：\\n                    \"), _c('span', {\n      staticClass: \"status\"\n    }, [_vm._v(_vm._s(_vm.status(item.status)))])])])], 2)\n  })), _vm._v(\" \"), (_vm.list.length < 1 && _vm.loading == false) ? _c('div', {\n    staticClass: \"nodata\"\n  }, [_c('i', {\n    staticClass: \"iconfont icon-tongyongmeiyoushuju\"\n  }), _vm._v(\" \"), _c('div', [_vm._v(\"您还没有售后记录~\")])]) : _vm._e()])\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"P3wk\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__assets_js_http__ = __webpack_require__(2);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    name: 'shouhou',\n    mixins: [__WEBPACK_IMPORTED_MODULE_0__assets_js_http__[\"default\"]],\n    data: function data() {\n        return {\n            refund_list: [],\n            exchange_list: [],\n            tagsIdx: 1,\n            sloading: false,\n            r_pages: {},\n            e_pages: {}\n\n        };\n    },\n\n    computed: {\n        list: function list() {\n            if (this.tagsIdx == 1) {\n                return this.refund_list;\n            } else {\n                return this.exchange_list;\n            }\n        }\n    },\n    methods: {\n        loadMore: function loadMore() {\n            if (this.sloading) {\n                return;\n            }\n            if (this.tagsIdx == 1) {\n                var page = parseInt(this.r_pages.current_page, 10) || 1;\n\n                if (page < this.r_pages.total_page) {\n                    this.get_list(page + 1);\n                }\n            } else {\n                var _page = parseInt(this.e_pages.current_page, 10) || 1;\n                if (_page < this.e_pages.total_page) {\n                    this.get_list(_page + 1);\n                }\n            }\n        },\n        status: function status(idx) {\n            var r = ['未处理', '已同意', '已拒绝'];\n            var _idx = parseInt(idx, 10);\n            return r[_idx - 1];\n        },\n\n        //换货\n        exchange: function exchange(page) {\n            var url = '/mini/Exchange/get_list?page=' + (page || 1),\n                vm = this;\n            vm.apiGet(url).then(function (res) {\n                if (res.code) {\n                    vm.exchange_list = res.data.list;\n                    vm.e_pages = res.data.pages;\n                } else {\n                    vm.handleError(res);\n                }\n            });\n        },\n\n        //退款\n        refund: function refund(page) {\n            var url = '/mini/Refund/get_list?page=' + (page || 1),\n                vm = this;\n\n            vm.apiGet(url).then(function (res) {\n                if (res.code) {\n                    vm.refund_list = res.data.list;\n                    vm.r_pages = res.data.pages;\n                } else {\n                    vm.handleError(res);\n                }\n            });\n        },\n        get_list: function get_list(page) {\n            if (this.tagsIdx == 1) {\n                this.refund(page);\n            } else {\n                this.exchange(page);\n            }\n        }\n    },\n    created: function created() {\n        this.setTitle('售后记录');\n        this.refund();\n        this.exchange();\n    }\n});\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// build/js/shouhou.2ae4.js","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./shouhou.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4b161dcc\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./shouhou.vue\"\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/mini/components/shouhou.vue\n// module id = 4gCn\n// module chunks = 11","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    directives: [{\n      name: \"loading\",\n      rawName: \"v-loading\",\n      value: (_vm.loading),\n      expression: \"loading\"\n    }]\n  }, [_c('div', {\n    staticClass: \"ui-tags\"\n  }, [_c('span', {\n    class: {\n      'active': _vm.tagsIdx == 1\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.tagsIdx = 1\n      }\n    }\n  }, [_vm._v(\"退款记录\")]), _vm._v(\" \"), _c('span', {\n    class: {\n      'active': _vm.tagsIdx == 2\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.tagsIdx = 2\n      }\n    }\n  }, [_vm._v(\"换货记录\")])]), _vm._v(\" \"), _c('ul', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.list.length > 0),\n      expression: \"list.length > 0\"\n    }, {\n      name: \"infinite-scroll\",\n      rawName: \"v-infinite-scroll\",\n      value: (_vm.loadMore),\n      expression: \"loadMore\"\n    }],\n    staticClass: \"order-list\",\n    attrs: {\n      \"infinite-scroll-disabled\": _vm.sloading,\n      \"infinite-scroll-immediate-check\": false,\n      \"infinite-scroll-distance\": 10\n    }\n  }, _vm._l((_vm.list), function(item) {\n    return _c('li', {\n      key: item.id\n    }, [_c('div', {\n      staticClass: \"h\"\n    }, [_vm._v(\"订单号：\" + _vm._s(item.order_number))]), _vm._v(\" \"), _vm._l((item.orders_goods), function(good) {\n      return _c('div', {\n        key: good.id,\n        staticClass: \"m\"\n      }, [_c('img', {\n        attrs: {\n          \"src\": good.good_img,\n          \"width\": \"50\",\n          \"height\": \"50\"\n        }\n      }), _vm._v(\" \"), _c('div', {\n        staticClass: \"info\"\n      }, [_c('div', {\n        staticClass: \"title\"\n      }, [_vm._v(_vm._s(good.good_title))])]), _vm._v(\" \"), _c('div', {\n        staticClass: \"tool\"\n      }, [(item.pay_method == 3) ? _c('div', [_vm._v(\"积分 \" + _vm._s(good.credits))]) : _c('div', [_vm._v(\"￥\" + _vm._s(good.price))]), _vm._v(\" \"), _c('div', [_vm._v(\"x \" + _vm._s(good.buy_num))])])])\n    }), _vm._v(\" \"), _c('div', {\n      staticClass: \"b\"\n    }, [_c('div', [_vm._v(\"\\n                    售后进度：\\n                    \"), _c('span', {\n      staticClass: \"status\"\n    }, [_vm._v(_vm._s(_vm.status(item.status)))])])])], 2)\n  })), _vm._v(\" \"), (_vm.list.length < 1 && _vm.loading == false) ? _c('div', {\n    staticClass: \"nodata\"\n  }, [_c('i', {\n    staticClass: \"iconfont icon-tongyongmeiyoushuju\"\n  }), _vm._v(\" \"), _c('div', [_vm._v(\"您还没有售后记录~\")])]) : _vm._e()])\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-4b161dcc\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/mini/components/shouhou.vue\n// module id = Bijm\n// module chunks = 11","<template>\r\n    <div v-loading=\"loading\">\r\n        <div class=\"ui-tags\">\r\n\r\n            <span :class=\"{'active':tagsIdx == 1}\" @click=\"tagsIdx = 1\">退款记录</span>\r\n            <span :class=\"{'active':tagsIdx == 2}\" @click=\"tagsIdx = 2\">换货记录</span>\r\n\r\n        </div>\r\n        <ul class=\"order-list\" v-show=\"list.length > 0\" v-infinite-scroll=\"loadMore\" :infinite-scroll-disabled=\"sloading\" :infinite-scroll-immediate-check=\"false\" :infinite-scroll-distance=\"10\">\r\n            <li v-for=\"item in list\" :key=\"item.id\">\r\n                <div class=\"h\">订单号：{{item.order_number}}</div>\r\n                <div class=\"m\" v-for=\"good in item.orders_goods\" :key=\"good.id\">\r\n                    <img :src=\"good.good_img\" width=\"50\" height=\"50\">\r\n                    <div class=\"info\">\r\n                        <div class=\"title\">{{good.good_title}}</div>\r\n                    </div>\r\n                    <div class=\"tool\">\r\n                        <div v-if=\"item.pay_method == 3\">积分 {{good.credits}}</div>\r\n                        <div v-else>￥{{good.price}}</div>\r\n                        <div>x {{good.buy_num}}</div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"b\">\r\n                    <!-- <div>订单总额:￥{{item.total_amount}}</div> -->\r\n                    <div>\r\n                        售后进度：\r\n                        <span class=\"status\">{{status(item.status)}}</span>\r\n                    </div>\r\n                </div>\r\n            </li>\r\n\r\n        </ul>\r\n\r\n        <div class=\"nodata\" v-if=\"list.length < 1 && loading == false\">\r\n            <i class=\"iconfont icon-tongyongmeiyoushuju\"></i>\r\n            <div>您还没有售后记录~</div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport http from '@/assets/js/http'\r\nexport default {\r\n    name: 'shouhou',\r\n    mixins: [http],\r\n    data() {\r\n        return {\r\n            refund_list: [],\r\n            exchange_list: [],\r\n            tagsIdx: 1,\r\n            sloading: false,\r\n            r_pages: {},\r\n            e_pages: {}\r\n\r\n        }\r\n    },\r\n    computed: {\r\n        list() {\r\n            if (this.tagsIdx == 1) {\r\n                return this.refund_list\r\n            } else {\r\n                return this.exchange_list\r\n            }\r\n        },\r\n\r\n    },\r\n    methods: {\r\n        loadMore() {\r\n            if (this.sloading) { return }\r\n            if (this.tagsIdx == 1) {\r\n                let page = parseInt(this.r_pages.current_page, 10) || 1;\r\n                \r\n                if (page < this.r_pages.total_page) {\r\n                    this.get_list(page + 1);\r\n                }\r\n            } else {\r\n                let page = parseInt(this.e_pages.current_page, 10) || 1;\r\n                if (page < this.e_pages.total_page) {\r\n                    this.get_list(page + 1);\r\n                }\r\n              \r\n            }\r\n\r\n\r\n        },\r\n        status(idx) {\r\n            let r = ['未处理', '已同意', '已拒绝']\r\n            let _idx = parseInt(idx, 10)\r\n            return r[_idx - 1]\r\n        },\r\n        //换货\r\n        exchange(page) {\r\n            let url = '/mini/Exchange/get_list?page=' + (page || 1), vm = this;\r\n            vm.apiGet(url).then(function(res) {\r\n                if (res.code) {\r\n                    vm.exchange_list = res.data.list;\r\n                    vm.e_pages = res.data.pages\r\n                } else {\r\n                    vm.handleError(res)\r\n                }\r\n            })\r\n\r\n        },\r\n        //退款\r\n        refund(page) {\r\n            let url = '/mini/Refund/get_list?page=' + (page || 1), vm = this;\r\n\r\n            vm.apiGet(url).then(function(res) {\r\n                if (res.code) {\r\n                    vm.refund_list = res.data.list;\r\n                    vm.r_pages = res.data.pages\r\n                } else {\r\n                    vm.handleError(res)\r\n                }\r\n            })\r\n        },\r\n        get_list(page) {\r\n            if (this.tagsIdx == 1) {\r\n                this.refund(page)\r\n\r\n            } else {\r\n                this.exchange(page)\r\n            }\r\n        }\r\n    },\r\n    created() {\r\n        this.setTitle('售后记录')\r\n        this.refund();\r\n        this.exchange();\r\n\r\n    }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/mini/components/shouhou.vue?8d9acbf6"],"sourceRoot":""}