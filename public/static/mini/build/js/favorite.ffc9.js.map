{"version":3,"sources":["webpack:///build/js/favorite.ffc9.js","webpack:///./src/mini/components/favorite.vue","webpack:///./src/mini/components/favorite.vue?9e66","webpack:///src/mini/components/favorite.vue"],"names":["webpackJsonp","0Umf","module","__webpack_exports__","__webpack_require__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_favorite_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_04e24385_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_favorite_vue__","normalizeComponent","Component","qIVd","render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","list","length","expression","ref","staticClass","attrs","infinite-scroll-disabled","sloading","infinite-scroll-immediate-check","infinite-scroll-distance","infinite-scroll-listen-for-event","_l","item","idx","key","width","height","on","click","$event","goto","good_id","_v","staticStyle","margin-right","_s","good_title","price","ondel","size","color","pages","total_page","current_page","_e","staticRenderFns","esExports","wDug","__WEBPACK_IMPORTED_MODULE_0__assets_js_http__","mixins","data","methods","loadMore","console","log","page","parseInt","get_list","url","vm","apiGet","then","res","code","_list","concat","setTimeout","$emit","handleError","index","apiPost","$msg","msg","splice","created","setTitle"],"mappings":"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","file":"build/js/favorite.ffc9.js","sourcesContent":["webpackJsonp([22],{\n\n/***/ \"0Umf\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_favorite_vue__ = __webpack_require__(\"wDug\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_04e24385_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_favorite_vue__ = __webpack_require__(\"qIVd\");\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_favorite_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_04e24385_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_favorite_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"qIVd\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.list.length > 0),expression:\"list.length > 0\"},{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.loadMore),expression:\"loadMore\"}],ref:\"ss\",staticClass:\"thumb-list\",attrs:{\"infinite-scroll-disabled\":_vm.sloading,\"infinite-scroll-immediate-check\":false,\"infinite-scroll-distance\":10,\"infinite-scroll-listen-for-event\":\"cheackLoadMore\"}},_vm._l((_vm.list),function(item,idx){return _c('li',{key:idx},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.good_img),expression:\"item.good_img\"}],attrs:{\"width\":\"70\",\"height\":\"70\"},on:{\"click\":function($event){_vm.goto('/detail/id/'+item.good_id)}}}),_vm._v(\" \"),_c('div',{staticClass:\"info\",staticStyle:{\"margin-right\":\"1.5em\"},on:{\"click\":function($event){_vm.goto('/detail/id/'+item.good_id)}}},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(item.good_title))]),_vm._v(\" \"),_c('div',{staticClass:\"tool\"},[_c('span',{staticClass:\"price\"},[_vm._v(\"￥\\n                        \"),_c('em',[_vm._v(_vm._s(item.price))])])])]),_vm._v(\" \"),_c('i',{staticClass:\"iconfont icon-shanchu \",on:{\"click\":function($event){_vm.ondel(idx);}}})])})),_vm._v(\" \"),(_vm.sloading)?_c('div',{staticClass:\"spinner\"},[_c('mt-spinner',{attrs:{\"size\":18,\"color\":\"#26a2ff\"}})],1):(_vm.pages.total_page == _vm.pages.current_page)?_c('div',{staticClass:\"nodata-line\"},[_vm._v(\"没有更多数据了\")]):_vm._e(),_vm._v(\" \"),(_vm.list.length < 1 && _vm.sloading == false)?_c('div',{staticClass:\"nodata\"},[_c('i',{staticClass:\"iconfont icon-tongyongmeiyoushuju\"}),_vm._v(\" \"),_c('div',[_vm._v(\"您还没有收藏记录~\")])]):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"wDug\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__assets_js_http__ = __webpack_require__(2);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    name: 'favorite',\n    mixins: [__WEBPACK_IMPORTED_MODULE_0__assets_js_http__[\"default\"]],\n    data: function data() {\n        return {\n            list: [],\n            pages: {},\n            sloading: false\n        };\n    },\n\n    methods: {\n        loadMore: function loadMore() {\n            console.log('load');\n            if (this.sloading) {\n                return;\n            }\n            var page = parseInt(this.pages.current_page, 10) || 1;\n            if (page < this.pages.total_page) {\n                this.get_list(page + 1);\n            }\n        },\n        get_list: function get_list(page) {\n            page = page || 1;\n            var url = '/mini/Collect/get_list?page=' + page,\n                vm = this;\n            vm.sloading = true;\n            this.apiGet(url).then(function (res) {\n\n                if (res.code) {\n\n                    vm.pages = res.data.pages;\n                    if (vm.list.length == 0) {\n                        vm.list = res.data.list;\n                    } else {\n                        var _list = vm.list;\n                        vm.list = _list.concat(res.data.list);\n                    }\n                    setTimeout(function () {\n                        vm.sloading = false;\n                        vm.$emit('cheackLoadMore');\n                    }, 200);\n                } else {\n                    vm.handleError(res);\n                }\n            });\n        },\n\n        //删除\n        ondel: function ondel(index) {\n            var url = '/mini/Collect/del',\n                vm = this,\n                data = { good_id: this.list[index].good_id };\n            vm.sloading = true;\n            this.apiPost(url, data).then(function (res) {\n                if (res.code) {\n                    vm.$msg(res.msg);\n                    vm.list.splice(index, 1);\n                    setTimeout(function () {\n                        vm.sloading = false;\n                    }, 1000);\n                } else {\n                    vm.handleError(res);\n                }\n            });\n        }\n    },\n    created: function created() {\n        this.setTitle('我的收藏');\n        this.get_list();\n    }\n});\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// build/js/favorite.ffc9.js","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./favorite.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-04e24385\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./favorite.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/mini/components/favorite.vue\n// module id = 0Umf\n// module chunks = 22","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.list.length > 0),expression:\"list.length > 0\"},{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.loadMore),expression:\"loadMore\"}],ref:\"ss\",staticClass:\"thumb-list\",attrs:{\"infinite-scroll-disabled\":_vm.sloading,\"infinite-scroll-immediate-check\":false,\"infinite-scroll-distance\":10,\"infinite-scroll-listen-for-event\":\"cheackLoadMore\"}},_vm._l((_vm.list),function(item,idx){return _c('li',{key:idx},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.good_img),expression:\"item.good_img\"}],attrs:{\"width\":\"70\",\"height\":\"70\"},on:{\"click\":function($event){_vm.goto('/detail/id/'+item.good_id)}}}),_vm._v(\" \"),_c('div',{staticClass:\"info\",staticStyle:{\"margin-right\":\"1.5em\"},on:{\"click\":function($event){_vm.goto('/detail/id/'+item.good_id)}}},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(item.good_title))]),_vm._v(\" \"),_c('div',{staticClass:\"tool\"},[_c('span',{staticClass:\"price\"},[_vm._v(\"￥\\n                        \"),_c('em',[_vm._v(_vm._s(item.price))])])])]),_vm._v(\" \"),_c('i',{staticClass:\"iconfont icon-shanchu \",on:{\"click\":function($event){_vm.ondel(idx);}}})])})),_vm._v(\" \"),(_vm.sloading)?_c('div',{staticClass:\"spinner\"},[_c('mt-spinner',{attrs:{\"size\":18,\"color\":\"#26a2ff\"}})],1):(_vm.pages.total_page == _vm.pages.current_page)?_c('div',{staticClass:\"nodata-line\"},[_vm._v(\"没有更多数据了\")]):_vm._e(),_vm._v(\" \"),(_vm.list.length < 1 && _vm.sloading == false)?_c('div',{staticClass:\"nodata\"},[_c('i',{staticClass:\"iconfont icon-tongyongmeiyoushuju\"}),_vm._v(\" \"),_c('div',[_vm._v(\"您还没有收藏记录~\")])]):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-04e24385\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/mini/components/favorite.vue\n// module id = qIVd\n// module chunks = 22","<template>\n    <div>\n\n        <ul class=\"thumb-list\" v-show=\"list.length > 0\" ref=\"ss\" v-infinite-scroll=\"loadMore\" :infinite-scroll-disabled=\"sloading\" :infinite-scroll-immediate-check=\"false\" :infinite-scroll-distance=\"10\" infinite-scroll-listen-for-event=\"cheackLoadMore\">\n            <li v-for=\"(item,idx) in list\" :key=\"idx\">\n                <img v-lazy=\"item.good_img\" width=\"70\" height=\"70\" @click=\"goto('/detail/id/'+item.good_id)\">\n                <div class=\"info\" style=\"margin-right:1.5em\" @click=\"goto('/detail/id/'+item.good_id)\">\n                    <div class=\"title\">{{item.good_title}}</div>\n                    <div class=\"tool\">\n                        <span class=\"price\">￥\n                            <em>{{item.price}}</em>\n                        </span>\n                    </div>\n                </div>\n                <i class=\"iconfont icon-shanchu \" @click=\"ondel(idx);\"></i>\n            </li>\n\n        </ul>\n     <div class=\"spinner\" v-if=\"sloading\">\n            <mt-spinner  :size=\"18\" color=\"#26a2ff\"></mt-spinner>\n        </div>\n        <div class=\"nodata-line\" v-else-if=\"pages.total_page == pages.current_page\">没有更多数据了</div>\n\n        <div class=\"nodata\" v-if=\"list.length < 1 && sloading == false\">\n            <i class=\"iconfont icon-tongyongmeiyoushuju\"></i>\n            <div>您还没有收藏记录~</div>\n        </div>\n    </div>\n</template>\n<script>\nimport http from '@/assets/js/http'\nexport default {\n    name: 'favorite',\n    mixins: [http],\n    data() {\n        return {\n            list: [],\n            pages: {},\n            sloading: false\n        }\n    },\n    methods: {\n\n        loadMore() {\n            console.log('load')\n            if (this.sloading) { return }\n            let page = parseInt(this.pages.current_page, 10) || 1;\n            if (page < this.pages.total_page) {\n                this.get_list(page + 1);\n            }\n\n        },\n        get_list(page) {\n            page = page || 1;\n            let url = '/mini/Collect/get_list?page=' + page,\n                vm = this;\n            vm.sloading = true\n            this.apiGet(url).then(function(res) {\n\n                if (res.code) {\n\n                    vm.pages = res.data.pages;\n                    if (vm.list.length == 0) {\n                        vm.list = res.data.list;\n\n\n                    } else {\n                        let _list = vm.list;\n                        vm.list = _list.concat(res.data.list)\n\n\n                    }\n                    setTimeout(() => {\n                        vm.sloading = false;\n                        vm.$emit('cheackLoadMore')\n                    }, 200)\n\n\n\n                } else {\n                    vm.handleError(res)\n                }\n\n            })\n        },\n        //删除\n        ondel(index) {\n            let url = '/mini/Collect/del', vm = this, data = { good_id: this.list[index].good_id };\n            vm.sloading = true\n            this.apiPost(url, data).then(function(res) {\n                if (res.code) {\n                    vm.$msg(res.msg);\n                    vm.list.splice(index, 1);\n                    setTimeout(() => {\n                        vm.sloading = false\n                    }, 1000)\n                } else {\n                    vm.handleError(res)\n                }\n\n            })\n        },\n    },\n    created() {\n        this.setTitle('我的收藏')\n        this.get_list();\n    },\n\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/mini/components/favorite.vue"],"sourceRoot":""}