{"version":3,"sources":["webpack:///build/js/reg.726a.js","webpack:///./src/mini/components/register.vue","webpack:///./src/mini/components/register.vue?83b8","webpack:///src/mini/components/register.vue"],"names":["webpackJsonp","W572","module","__webpack_exports__","__webpack_require__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_register_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_7fc4cd0c_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_register_vue__","normalizeComponent","Component","cAA7","render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","_v","directives","name","rawName","form","expression","attrs","type","placeholder","maxlength","domProps","on","input","$event","target","composing","tel","length","getCodeDisabled","c","src","verify_url","alt","width","height","click","change_verify","disabled","code","codeDisabled","getCode","_s","codeText","form_disabled","bind_phone","sub_text","id","checked","Array","isArray","agree","_i","__c","$$a","$$el","$$c","$$i","concat","slice","for","href","staticRenderFns","esExports","w9M0","__WEBPACK_IMPORTED_MODULE_0__assets_js_http__","mixins","mounted","setTitle","document","body","style","background","data","t","computed","test","methods","vm","apiPost","phone","phone_code","then","res","$msg","msg","setTimeout","history","go","handleError","Math","random","that","cb","n","clearInterval","setInterval","parseInt","getCodeAjax","verify"],"mappings":"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","file":"build/js/reg.726a.js","sourcesContent":["webpackJsonp([12],{\n\n/***/ \"W572\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_register_vue__ = __webpack_require__(\"w9M0\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_7fc4cd0c_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_register_vue__ = __webpack_require__(\"cAA7\");\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_register_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_7fc4cd0c_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_register_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"cAA7\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"reg\"\n  }, [_vm._m(0), _vm._v(\" \"), _c('div', {\n    staticClass: \"form-item\"\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.form.tel),\n      expression: \"form.tel\"\n    }, {\n      name: \"focus\",\n      rawName: \"v-focus\"\n    }],\n    staticClass: \"needsclick\",\n    attrs: {\n      \"type\": \"tel\",\n      \"placeholder\": \"请输入您的手机号码\",\n      \"maxlength\": \"11\"\n    },\n    domProps: {\n      \"value\": (_vm.form.tel)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.form.tel = $event.target.value\n      }\n    }\n  }), _vm._v(\" \"), _c('span', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.form.tel.length && _vm.getCodeDisabled == 1),\n      expression: \"form.tel.length && getCodeDisabled == 1\"\n    }],\n    staticClass: \"form-err-tips\"\n  }, [_vm._v(\"手机号不正确\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"form-item\"\n  }, [_c('div', {\n    staticClass: \"f-l\"\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.form.c),\n      expression: \"form.c\"\n    }],\n    staticClass: \"needsclick\",\n    attrs: {\n      \"type\": \"text\",\n      \"maxlength\": \"4\",\n      \"placeholder\": \"请输入验证码\"\n    },\n    domProps: {\n      \"value\": (_vm.form.c)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.form.c = $event.target.value\n      }\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"f-r\"\n  }, [_c('img', {\n    attrs: {\n      \"src\": _vm.verify_url,\n      \"alt\": \"\",\n      \"width\": \"92\",\n      \"height\": \"42\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.change_verify();\n      }\n    }\n  })])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"form-item\"\n  }, [_c('div', {\n    staticClass: \"f-l\"\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.form.code),\n      expression: \"form.code\"\n    }],\n    staticClass: \"needsclick\",\n    attrs: {\n      \"type\": \"tel\",\n      \"maxlength\": \"4\",\n      \"disabled\": _vm.getCodeDisabled == 1,\n      \"placeholder\": \"请输入您的验证码\"\n    },\n    domProps: {\n      \"value\": (_vm.form.code)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.form.code = $event.target.value\n      }\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"f-r\"\n  }, [_c('button', {\n    staticClass: \"ui-btn ui-btn-getCode\",\n    attrs: {\n      \"type\": \"button\",\n      \"disabled\": _vm.getCodeDisabled == 1 || _vm.codeDisabled == true\n    },\n    on: {\n      \"click\": _vm.getCode\n    }\n  }, [_vm._v(_vm._s(_vm.codeText))])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"form-item\"\n  }, [_c('button', {\n    staticClass: \"ui-btn ui-btn-block ui-btn-l2\",\n    attrs: {\n      \"type\": \"button\",\n      \"disabled\": _vm.form_disabled == 1\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.bind_phone()\n      }\n    }\n  }, [_vm._v(_vm._s(_vm.sub_text))])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"form-item\"\n  }, [_c('div', [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.form.agree),\n      expression: \"form.agree\"\n    }],\n    staticClass: \"ui-checkbox\",\n    attrs: {\n      \"type\": \"checkbox\",\n      \"id\": \"agree\"\n    },\n    domProps: {\n      \"checked\": Array.isArray(_vm.form.agree) ? _vm._i(_vm.form.agree, null) > -1 : (_vm.form.agree)\n    },\n    on: {\n      \"__c\": function($event) {\n        var $$a = _vm.form.agree,\n          $$el = $event.target,\n          $$c = $$el.checked ? (true) : (false);\n        if (Array.isArray($$a)) {\n          var $$v = null,\n            $$i = _vm._i($$a, $$v);\n          if ($$el.checked) {\n            $$i < 0 && (_vm.form.agree = $$a.concat($$v))\n          } else {\n            $$i > -1 && (_vm.form.agree = $$a.slice(0, $$i).concat($$a.slice($$i + 1)))\n          }\n        } else {\n          _vm.form.agree = $$c\n        }\n      }\n    }\n  }), _vm._v(\" \"), _c('label', {\n    attrs: {\n      \"for\": \"agree\"\n    }\n  }, [_vm._v(\"已阅读并同意\")]), _vm._v(\" \"), _c('a', {\n    staticClass: \"skin\",\n    attrs: {\n      \"href\": \"#\"\n    }\n  }, [_vm._v(\"《爱悦妍服务协议》\")])])])])\n}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"top_tips\"\n  }, [_c('i', {\n    staticClass: \"iconfont icon-tanhao\"\n  }), _vm._v(\" 请您绑定手机号码，以便更好的为您服务\")])\n}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"w9M0\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__assets_js_http__ = __webpack_require__(2);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    mixins: [__WEBPACK_IMPORTED_MODULE_0__assets_js_http__[\"default\"]],\n    mounted: function mounted() {\n        this.setTitle('绑定手机');\n        document.body.style.background = '#fff';\n    },\n    data: function data() {\n        return {\n            sub_text: '立即绑定',\n            codeDisabled: false,\n            form: {\n                tel: '',\n                code: '',\n                agree: '',\n                c: ''\n            },\n            codeText: '获取验证码',\n            t: '',\n            verify_url: '/mini/Home/get_verify'\n        };\n    },\n\n    computed: {\n        getCodeDisabled: function getCodeDisabled() {\n            if (/^1[3-9]\\d{9}$/.test(this.form.tel)) {\n                return 0;\n            } else {\n                return 1;\n            }\n        },\n        form_disabled: function form_disabled() {\n            if (/^1[3-9]\\d{9}$/.test(this.form.tel) && this.form.code.length == 4) {\n                if (this.form.agree) {\n                    this.sub_text = '立即绑定';\n                    return 0;\n                } else {\n                    this.sub_text = '请同意服务协议';\n                    return 1;\n                }\n            } else {\n                return 1;\n            }\n        }\n    },\n    methods: {\n        //立即绑定\n        bind_phone: function bind_phone() {\n            var vm = this,\n                url = \"/mini/Home/bind\";\n            this.apiPost(url, { phone: this.form.tel, phone_code: this.form.code, agree: this.form.agree }).then(function (res) {\n                if (res.code) {\n                    vm.$msg(res.msg);\n                    setTimeout(function () {\n                        history.go(-1);\n                    }, 1000);\n                } else {\n                    vm.handleError(res);\n                }\n            });\n        },\n        change_verify: function change_verify() {\n            this.verify_url = this.verify_url + \"?r=\" + Math.random();\n        },\n        getCode: function getCode() {\n            var that = this;\n            var cb = function cb() {\n                that.codeDisabled = true;\n                var n = 59;\n\n                clearInterval(that.t);\n                var msg = '60s重试';\n                that.t = setInterval(function () {\n                    if (n > 0) {\n                        n = parseInt(n) - 1;\n                        that.codeText = n + 's重试';\n                    } else {\n                        clearInterval(that.t);\n                        n = 59;\n                        that.codeText = '获取验证码';\n                        that.codeDisabled = false;\n                    }\n                }, 1000);\n            };\n            this.getCodeAjax(cb);\n        },\n        getCodeAjax: function getCodeAjax(cb) {\n            var vm = this,\n                url = \"/mini/Home/send_phone_code\";\n            // cb()\n            this.apiPost(url, { phone: this.form.tel, verify: this.form.c }).then(function (res) {\n                if (res.code) {\n                    if (typeof cb == 'function') {\n                        cb();\n                    }\n                } else {\n                    vm.handleError(res);\n                }\n            });\n        }\n    }\n\n});\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// build/js/reg.726a.js","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./register.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7fc4cd0c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./register.vue\"\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/mini/components/register.vue\n// module id = W572\n// module chunks = 12","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"reg\"\n  }, [_vm._m(0), _vm._v(\" \"), _c('div', {\n    staticClass: \"form-item\"\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.form.tel),\n      expression: \"form.tel\"\n    }, {\n      name: \"focus\",\n      rawName: \"v-focus\"\n    }],\n    staticClass: \"needsclick\",\n    attrs: {\n      \"type\": \"tel\",\n      \"placeholder\": \"请输入您的手机号码\",\n      \"maxlength\": \"11\"\n    },\n    domProps: {\n      \"value\": (_vm.form.tel)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.form.tel = $event.target.value\n      }\n    }\n  }), _vm._v(\" \"), _c('span', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.form.tel.length && _vm.getCodeDisabled == 1),\n      expression: \"form.tel.length && getCodeDisabled == 1\"\n    }],\n    staticClass: \"form-err-tips\"\n  }, [_vm._v(\"手机号不正确\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"form-item\"\n  }, [_c('div', {\n    staticClass: \"f-l\"\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.form.c),\n      expression: \"form.c\"\n    }],\n    staticClass: \"needsclick\",\n    attrs: {\n      \"type\": \"text\",\n      \"maxlength\": \"4\",\n      \"placeholder\": \"请输入验证码\"\n    },\n    domProps: {\n      \"value\": (_vm.form.c)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.form.c = $event.target.value\n      }\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"f-r\"\n  }, [_c('img', {\n    attrs: {\n      \"src\": _vm.verify_url,\n      \"alt\": \"\",\n      \"width\": \"92\",\n      \"height\": \"42\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.change_verify();\n      }\n    }\n  })])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"form-item\"\n  }, [_c('div', {\n    staticClass: \"f-l\"\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.form.code),\n      expression: \"form.code\"\n    }],\n    staticClass: \"needsclick\",\n    attrs: {\n      \"type\": \"tel\",\n      \"maxlength\": \"4\",\n      \"disabled\": _vm.getCodeDisabled == 1,\n      \"placeholder\": \"请输入您的验证码\"\n    },\n    domProps: {\n      \"value\": (_vm.form.code)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.form.code = $event.target.value\n      }\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"f-r\"\n  }, [_c('button', {\n    staticClass: \"ui-btn ui-btn-getCode\",\n    attrs: {\n      \"type\": \"button\",\n      \"disabled\": _vm.getCodeDisabled == 1 || _vm.codeDisabled == true\n    },\n    on: {\n      \"click\": _vm.getCode\n    }\n  }, [_vm._v(_vm._s(_vm.codeText))])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"form-item\"\n  }, [_c('button', {\n    staticClass: \"ui-btn ui-btn-block ui-btn-l2\",\n    attrs: {\n      \"type\": \"button\",\n      \"disabled\": _vm.form_disabled == 1\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.bind_phone()\n      }\n    }\n  }, [_vm._v(_vm._s(_vm.sub_text))])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"form-item\"\n  }, [_c('div', [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.form.agree),\n      expression: \"form.agree\"\n    }],\n    staticClass: \"ui-checkbox\",\n    attrs: {\n      \"type\": \"checkbox\",\n      \"id\": \"agree\"\n    },\n    domProps: {\n      \"checked\": Array.isArray(_vm.form.agree) ? _vm._i(_vm.form.agree, null) > -1 : (_vm.form.agree)\n    },\n    on: {\n      \"__c\": function($event) {\n        var $$a = _vm.form.agree,\n          $$el = $event.target,\n          $$c = $$el.checked ? (true) : (false);\n        if (Array.isArray($$a)) {\n          var $$v = null,\n            $$i = _vm._i($$a, $$v);\n          if ($$el.checked) {\n            $$i < 0 && (_vm.form.agree = $$a.concat($$v))\n          } else {\n            $$i > -1 && (_vm.form.agree = $$a.slice(0, $$i).concat($$a.slice($$i + 1)))\n          }\n        } else {\n          _vm.form.agree = $$c\n        }\n      }\n    }\n  }), _vm._v(\" \"), _c('label', {\n    attrs: {\n      \"for\": \"agree\"\n    }\n  }, [_vm._v(\"已阅读并同意\")]), _vm._v(\" \"), _c('a', {\n    staticClass: \"skin\",\n    attrs: {\n      \"href\": \"#\"\n    }\n  }, [_vm._v(\"《爱悦妍服务协议》\")])])])])\n}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"top_tips\"\n  }, [_c('i', {\n    staticClass: \"iconfont icon-tanhao\"\n  }), _vm._v(\" 请您绑定手机号码，以便更好的为您服务\")])\n}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-7fc4cd0c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/mini/components/register.vue\n// module id = cAA7\n// module chunks = 12","<template>\r\n    <div class=\"reg\">\r\n        <div class=\"top_tips\">\r\n            <i class=\"iconfont icon-tanhao\"></i> 请您绑定手机号码，以便更好的为您服务</div>\r\n        <div class=\"form-item\">\r\n            <input type=\"tel\" class=\"needsclick\" v-model=\"form.tel\" v-focus placeholder=\"请输入您的手机号码\" maxlength=\"11\">\r\n            <span class=\"form-err-tips\" v-show=\"form.tel.length && getCodeDisabled == 1\">手机号不正确</span>\r\n        </div>\r\n        <div class=\"form-item\">\r\n            <div class=\"f-l\">\r\n                <input type=\"text\" class=\"needsclick\" maxlength=\"4\" placeholder=\"请输入验证码\" v-model=\"form.c\">\r\n            </div>\r\n            <div class=\"f-r\"> <img :src=\"verify_url\" @click=\"change_verify();\" alt=\"\" width=\"92\" height=\"42\"> </div>\r\n\r\n        </div>\r\n        <div class=\"form-item\">\r\n            <div class=\"f-l\">\r\n                <input type=\"tel\" class=\"needsclick\" maxlength=\"4\" :disabled=\"getCodeDisabled == 1\" placeholder=\"请输入您的验证码\" v-model=\"form.code\">\r\n            </div>\r\n            <div class=\"f-r\">\r\n                <button type=\"button\" :disabled=\"getCodeDisabled == 1 || codeDisabled == true\" class=\"ui-btn ui-btn-getCode\" @click=\"getCode\">{{codeText}}</button>\r\n            </div>\r\n\r\n        </div>\r\n        <div class=\"form-item\">\r\n            <button type=\"button\" :disabled=\"form_disabled == 1\" class=\"ui-btn ui-btn-block ui-btn-l2\" @click=\"bind_phone()\">{{sub_text}}</button>\r\n        </div>\r\n        <div class=\"form-item\">\r\n            <div>\r\n                <input type=\"checkbox\" v-model=\"form.agree\" class=\"ui-checkbox\" id=\"agree\">\r\n                <label for=\"agree\">已阅读并同意</label>\r\n                <a href=\"#\" class=\"skin\">《爱悦妍服务协议》</a>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n</template>\r\n<script>\r\nimport http from '@/assets/js/http'\r\nexport default {\r\n    mixins: [http],\r\n    mounted() {\r\n        this.setTitle('绑定手机')\r\n        document.body.style.background = '#fff'\r\n\r\n    },\r\n    data() {\r\n        return {\r\n            sub_text: '立即绑定',\r\n            codeDisabled: false,\r\n            form: {\r\n                tel: '',\r\n                code: '',\r\n                agree: '',\r\n                c: ''\r\n            },\r\n            codeText: '获取验证码',\r\n            t: '',\r\n            verify_url: '/mini/Home/get_verify',\r\n        }\r\n    },\r\n    computed: {\r\n        getCodeDisabled: function() {\r\n            if (/^1[3-9]\\d{9}$/.test(this.form.tel)) {\r\n                return 0\r\n            } else {\r\n                return 1\r\n            }\r\n\r\n        },\r\n        form_disabled: function() {\r\n            if (/^1[3-9]\\d{9}$/.test(this.form.tel) && this.form.code.length == 4) {\r\n                if (this.form.agree) {\r\n                    this.sub_text = '立即绑定'\r\n                    return 0;\r\n                } else {\r\n                    this.sub_text = '请同意服务协议'\r\n                    return 1\r\n                }\r\n\r\n            } else {\r\n                return 1\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        //立即绑定\r\n        bind_phone(){\r\n            let vm = this, url = \"/mini/Home/bind\";\r\n            this.apiPost(url, {phone: this.form.tel, phone_code: this.form.code, agree: this.form.agree}).then((res) => {\r\n                if (res.code) {\r\n                    vm.$msg(res.msg);\r\n                    setTimeout(function(){\r\n                        history.go(-1);\r\n                    },1000);                    \r\n                } else {\r\n                    vm.handleError(res)\r\n                }\r\n            })\r\n        },\r\n        change_verify(){\r\n            this.verify_url = this.verify_url + \"?r=\" + Math.random();\r\n        },\r\n        getCode() {\r\n            let that = this;\r\n            var cb = function() {\r\n                that.codeDisabled = true;\r\n                var n = 59;\r\n\r\n                clearInterval(that.t)\r\n                var msg = '60s重试'\r\n                that.t = setInterval(function() {\r\n                    if (n > 0) {\r\n                        n = parseInt(n) - 1;\r\n                        that.codeText = n + 's重试'\r\n                    } else {\r\n                        clearInterval(that.t)\r\n                        n = 59;\r\n                        that.codeText = '获取验证码'\r\n                        that.codeDisabled = false;\r\n                    }\r\n                }, 1000)\r\n            }\r\n            this.getCodeAjax(cb);\r\n        },\r\n        getCodeAjax(cb) {\r\n            let vm = this, url = \"/mini/Home/send_phone_code\";\r\n            // cb()\r\n            this.apiPost(url, {phone: this.form.tel, verify: this.form.c}).then((res) => {\r\n                if (res.code) {\r\n                    if (typeof cb == 'function') {\r\n                        cb()\r\n                    }\r\n                } else {\r\n                    vm.handleError(res)\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n}\r\n\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/mini/components/register.vue?12c0a442"],"sourceRoot":""}