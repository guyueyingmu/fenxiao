{"version":3,"sources":["webpack:///build/js/order.4b93.js","webpack:///src/mini/components/order.vue","webpack:///./src/mini/components/order.vue","webpack:///./src/mini/components/order.vue?1a9c"],"names":["webpackJsonp","J8cS","module","__webpack_exports__","__webpack_require__","__WEBPACK_IMPORTED_MODULE_0__assets_js_http__","name","mixins","data","list","page_info","search","keyword","methods","exchange","index","vm","this","order_id","id","$confirm","msg","yes","apiPost","then","res","code","refund","$msg","handleError","loadMore","_this","page","parseInt","current_page","clearTimeout","timer","setTimeout","total_page","get_list","onSearch","searchData","status","url","apiGet","pages","_list","concat","created","setTitle","V64i","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_order_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_51115196_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_order_vue__","normalizeComponent","Component","iIBT","render","_vm","_h","$createElement","_c","_self","directives","rawName","expression","staticClass","class","active","on","click","$event","_v","length","attrs","infinite-scroll-disabled","infinite-scroll-immediate-check","infinite-scroll-distance","_l","item","idx","key","goto","_s","order_number","order_status_txt","good","width","height","good_title","pay_method","credits","price","buy_num","minus_credits","total_amount","pay_status","type","_e","comment_status","staticRenderFns","esExports"],"mappings":"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","file":"build/js/order.4b93.js","sourcesContent":["webpackJsonp([17],{\n\n/***/ \"J8cS\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__assets_js_http__ = __webpack_require__(\"MSrN\");\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    name: 'favorite',\n    mixins: [__WEBPACK_IMPORTED_MODULE_0__assets_js_http__[\"default\"]],\n    data: function data() {\n        return {\n            list: [],\n            page_info: {},\n            search: {\n                keyword: 0\n            }\n        };\n    },\n\n    methods: {\n        //换货\n        exchange: function exchange(index) {\n            var url = '/mini/Exchange/add',\n                vm = this,\n                data = { order_id: this.list[index].id };\n            this.$confirm({\n                msg: '确定申请换货？<br />申请换货后将有客服人员跟进处理！',\n                yes: function yes() {\n                    vm.apiPost(url, data).then(function (res) {\n                        if (res.code) {\n                            vm.list[index].exchange = 0;\n                            vm.list[index].refund = 0;\n                            vm.$msg(res.msg);\n                        } else {\n                            vm.handleError(res);\n                        }\n                    });\n                }\n            });\n        },\n\n        //退款\n        refund: function refund(index) {\n            var url = '/mini/Refund/add',\n                vm = this,\n                data = { order_id: this.list[index].id };\n            this.$confirm({\n                msg: '确定申请退款？<br />申请退款后将有客服人员跟进处理！',\n                yes: function yes() {\n                    vm.apiPost(url, data).then(function (res) {\n                        if (res.code) {\n                            vm.list[index].refund = 0;\n                            vm.list[index].exchange = 0;\n                            vm.$msg(res.msg);\n                        } else {\n                            vm.handleError(res);\n                        }\n                    });\n                }\n            });\n        },\n\n        //加载更多\n        loadMore: function loadMore() {\n            var _this = this;\n\n            var page = parseInt(this.page_info.current_page, 10);\n            clearTimeout(this.timer);\n            this.timer = setTimeout(function () {\n                if (page < _this.page_info.total_page) {\n                    _this.get_list(page + 1);\n                }\n            }, 500);\n        },\n\n        //搜索\n        onSearch: function onSearch(keyword) {\n            this.search.keyword = keyword;\n            var searchData = { status: this.search.keyword };\n            this.get_list(1, searchData);\n        },\n\n        //获取数据\n        get_list: function get_list(page, searchData) {\n            page = page || 1;\n            var url = '/mini/Order/get_list?page=' + page,\n                vm = this;\n\n            this.apiGet(url, searchData).then(function (res) {\n                if (res.code) {\n                    vm.page_info = res.data.pages;\n                    if (page < 2) {\n                        vm.list = res.data.list;\n                    } else {\n                        var _list = vm.list;\n                        _list = _list.concat(res.data.list);\n                        vm.list = _list;\n                    }\n                } else {\n                    vm.handleError(res);\n                }\n            });\n        }\n    },\n    created: function created() {\n        this.setTitle('我的订单');\n        this.get_list();\n    }\n});\n\n/***/ }),\n\n/***/ \"V64i\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_order_vue__ = __webpack_require__(\"J8cS\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_51115196_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_order_vue__ = __webpack_require__(\"iIBT\");\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_order_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_51115196_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_order_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"iIBT\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}]},[_c('div',{staticClass:\"ui-tags\"},[_c('span',{class:{'active':_vm.search.keyword == 0},on:{\"click\":function($event){_vm.onSearch(0)}}},[_vm._v(\"全部\")]),_vm._v(\" \"),_c('span',{class:{'active':_vm.search.keyword == 1},on:{\"click\":function($event){_vm.onSearch(1)}}},[_vm._v(\"待付款\")]),_vm._v(\" \"),_c('span',{class:{'active':_vm.search.keyword == 2},on:{\"click\":function($event){_vm.onSearch(2)}}},[_vm._v(\"待收货\")]),_vm._v(\" \"),_c('span',{class:{'active':_vm.search.keyword == 5},on:{\"click\":function($event){_vm.onSearch(5)}}},[_vm._v(\"已完成\")]),_vm._v(\" \"),_c('span',{class:{'active':_vm.search.keyword == 4},on:{\"click\":function($event){_vm.onSearch(4)}}},[_vm._v(\"已取消\")])]),_vm._v(\" \"),(_vm.list.length > 0)?_c('ul',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.loadMore),expression:\"loadMore\"}],staticClass:\"order-list\",attrs:{\"infinite-scroll-disabled\":\"loadComment\",\"infinite-scroll-immediate-check\":false,\"infinite-scroll-distance\":\"10\"}},_vm._l((_vm.list),function(item,idx){return _c('li',{key:idx},[_c('div',{staticClass:\"h\",on:{\"click\":function($event){_vm.goto('/order_detail/order_id/'+item.id)}}},[_vm._v(\"订单号：\"+_vm._s(item.order_number)+\"\\n                \"),_c('span',{staticClass:\"status\"},[_vm._v(_vm._s(item.order_status_txt))])]),_vm._v(\" \"),_vm._l((item.orders_goods),function(good,key){return _c('div',{key:key,staticClass:\"m\",on:{\"click\":function($event){_vm.goto('/order_detail/order_id/'+item.id)}}},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(good.good_img),expression:\"good.good_img\"}],attrs:{\"width\":\"50\",\"height\":\"50\"}}),_vm._v(\" \"),_c('div',{staticClass:\"info\"},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(good.good_title))])]),_vm._v(\" \"),_c('div',{staticClass:\"tool\"},[(item.pay_method == 3)?_c('div',[_vm._v(\"积分 \"+_vm._s(good.credits))]):_c('div',[_vm._v(\"￥\"+_vm._s(good.price))]),_vm._v(\" \"),_c('div',[_vm._v(\"x \"+_vm._s(good.buy_num))])])])}),_vm._v(\" \"),_c('div',{staticClass:\"b\"},[(item.pay_method == 3)?_c('div',[_vm._v(\"订单总额：积分 \"+_vm._s(item.minus_credits))]):_c('div',[_vm._v(\"订单总额：￥\"+_vm._s(item.total_amount))]),_vm._v(\" \"),_c('div',[(item.pay_status == 1 && item.pay_method != 2)?_c('button',{staticClass:\"ui-btn active\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.goto('/pay/order_id/'+item.id)}}},[_vm._v(\"付款\")]):_vm._e(),_vm._v(\" \"),(item.comment_status == 1)?_c('button',{staticClass:\"ui-btn active\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.goto('/start/order_id/'+item.id)}}},[_vm._v(\"评价\")]):_vm._e(),_vm._v(\" \"),(item.refund == 1)?_c('button',{staticClass:\"ui-btn active\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.refund(idx)}}},[_vm._v(\"退款\")]):_vm._e(),_vm._v(\" \"),(item.exchange == 1)?_c('button',{staticClass:\"ui-btn active\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.exchange(idx)}}},[_vm._v(\"换货\")]):_vm._e()])])],2)})):_c('div',{staticClass:\"nodata\"},[_c('i',{staticClass:\"iconfont icon-tongyongmeiyoushuju\"}),_vm._v(\" \"),_c('div',[_vm._v(\"您还没有订单记录~\")])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// build/js/order.4b93.js","<template>\r\n    <div v-loading=\"loading\">\r\n        <div class=\"ui-tags\">\r\n            <span :class=\"{'active':search.keyword == 0}\" @click=\"onSearch(0)\">全部</span>\r\n            <span :class=\"{'active':search.keyword == 1}\" @click=\"onSearch(1)\">待付款</span>\r\n            <span :class=\"{'active':search.keyword == 2}\" @click=\"onSearch(2)\">待收货</span>\r\n            <span :class=\"{'active':search.keyword == 5}\" @click=\"onSearch(5)\">已完成</span>\r\n            <span :class=\"{'active':search.keyword == 4}\" @click=\"onSearch(4)\">已取消</span>\r\n\r\n        </div>\r\n        <ul class=\"order-list\" v-if=\"list.length > 0\" v-infinite-scroll=\"loadMore\" infinite-scroll-disabled=\"loadComment\" :infinite-scroll-immediate-check=\"false\" infinite-scroll-distance=\"10\">\r\n            <li v-for=\"(item,idx) in list\" :key=\"idx\">\r\n                <div class=\"h\" @click=\"goto('/order_detail/order_id/'+item.id)\">订单号：{{item.order_number}}\r\n                    <span class=\"status\">{{item.order_status_txt}}</span>\r\n                </div>\r\n                <div class=\"m\" @click=\"goto('/order_detail/order_id/'+item.id)\" v-for=\"(good,key) in item.orders_goods\" :key=\"key\">\r\n                    <img v-lazy=\"good.good_img\" width=\"50\" height=\"50\">\r\n                    <div class=\"info\">\r\n                        <div class=\"title\">{{good.good_title}}</div>\r\n                    </div>\r\n                    <div class=\"tool\">\r\n                        <div v-if=\"item.pay_method == 3\">积分 {{good.credits}}</div>\r\n                        <div v-else>￥{{good.price}}</div>\r\n                        <div>x {{good.buy_num}}</div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"b\">\r\n                    <div v-if=\"item.pay_method == 3\">订单总额：积分 {{item.minus_credits}}</div>\r\n                    <div v-else>订单总额：￥{{item.total_amount}}</div>\r\n                    <div>\r\n                        <button type=\"button\" class=\"ui-btn active\" v-if=\"item.pay_status == 1 && item.pay_method != 2\" @click=\"goto('/pay/order_id/'+item.id)\">付款</button>\r\n                        <button type=\"button\" class=\"ui-btn active\" v-if=\"item.comment_status == 1\" @click=\"goto('/start/order_id/'+item.id)\">评价</button>\r\n                        <button type=\"button\" class=\"ui-btn active\" v-if=\"item.refund == 1\" @click=\"refund(idx)\">退款</button>\r\n                        <button type=\"button\" class=\"ui-btn active\" v-if=\"item.exchange == 1\" @click=\"exchange(idx)\">换货</button>\r\n                    </div>\r\n                </div>\r\n            </li>\r\n        </ul>\r\n\r\n        <div class=\"nodata\" v-else>\r\n            <i class=\"iconfont icon-tongyongmeiyoushuju\"></i>\r\n            <div>您还没有订单记录~</div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport http from '@/assets/js/http'\r\nexport default {\r\n    name: 'favorite',\r\n    mixins: [http],\r\n    data() {\r\n        return {\r\n            list: [],\r\n            page_info: {},\r\n            search: {\r\n                keyword: 0,\r\n            },\r\n        }\r\n    },\r\n    methods: {\r\n        //换货\r\n        exchange(index) {\r\n            let url = '/mini/Exchange/add', vm = this, data = { order_id: this.list[index].id };\r\n            this.$confirm({\r\n                msg: '确定申请换货？<br />申请换货后将有客服人员跟进处理！',\r\n                yes: function() {\r\n                    vm.apiPost(url, data).then(function(res) {\r\n                        if (res.code) {\r\n                            vm.list[index].exchange = 0;\r\n                            vm.list[index].refund = 0;\r\n                            vm.$msg(res.msg);\r\n                        } else {\r\n                            vm.handleError(res)\r\n                        }\r\n                    })\r\n                }\r\n            })\r\n\r\n        },\r\n        //退款\r\n        refund(index) {\r\n            let url = '/mini/Refund/add', vm = this, data = { order_id: this.list[index].id };\r\n            this.$confirm({\r\n                msg: '确定申请退款？<br />申请退款后将有客服人员跟进处理！',\r\n                yes: function() {\r\n                    vm.apiPost(url, data).then(function(res) {\r\n                        if (res.code) {\r\n                            vm.list[index].refund = 0;\r\n                            vm.list[index].exchange = 0;\r\n                            vm.$msg(res.msg);\r\n                        } else {\r\n                            vm.handleError(res)\r\n                        }\r\n                    })\r\n                }\r\n            })\r\n\r\n        },\r\n        //加载更多\r\n        loadMore() {\r\n            let page = parseInt(this.page_info.current_page, 10);\r\n            clearTimeout(this.timer)\r\n            this.timer = setTimeout(() => {\r\n                if (page < this.page_info.total_page) {\r\n                    this.get_list(page + 1);\r\n                }\r\n            }, 500)\r\n\r\n\r\n        },\r\n        //搜索\r\n        onSearch(keyword) {\r\n            this.search.keyword = keyword;\r\n            let searchData = { status: this.search.keyword }\r\n            this.get_list(1, searchData)\r\n        },\r\n        //获取数据\r\n        get_list(page, searchData) {\r\n            page = page || 1;\r\n            let url = '/mini/Order/get_list?page=' + page,\r\n                vm = this;\r\n\r\n            this.apiGet(url, searchData).then(function(res) {\r\n                if (res.code) {\r\n                    vm.page_info = res.data.pages;\r\n                    if (page < 2) {\r\n                        vm.list = res.data.list;\r\n                    } else {\r\n                        let _list = vm.list;\r\n                        _list = _list.concat(res.data.list)\r\n                        vm.list = _list;\r\n                    }\r\n\r\n                } else {\r\n                    vm.handleError(res)\r\n                }\r\n            })\r\n        }\r\n    },\r\n    created() {\r\n        this.setTitle('我的订单')\r\n        this.get_list();\r\n    }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/mini/components/order.vue","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./order.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-51115196\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./order.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/mini/components/order.vue\n// module id = V64i\n// module chunks = 17","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}]},[_c('div',{staticClass:\"ui-tags\"},[_c('span',{class:{'active':_vm.search.keyword == 0},on:{\"click\":function($event){_vm.onSearch(0)}}},[_vm._v(\"全部\")]),_vm._v(\" \"),_c('span',{class:{'active':_vm.search.keyword == 1},on:{\"click\":function($event){_vm.onSearch(1)}}},[_vm._v(\"待付款\")]),_vm._v(\" \"),_c('span',{class:{'active':_vm.search.keyword == 2},on:{\"click\":function($event){_vm.onSearch(2)}}},[_vm._v(\"待收货\")]),_vm._v(\" \"),_c('span',{class:{'active':_vm.search.keyword == 5},on:{\"click\":function($event){_vm.onSearch(5)}}},[_vm._v(\"已完成\")]),_vm._v(\" \"),_c('span',{class:{'active':_vm.search.keyword == 4},on:{\"click\":function($event){_vm.onSearch(4)}}},[_vm._v(\"已取消\")])]),_vm._v(\" \"),(_vm.list.length > 0)?_c('ul',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.loadMore),expression:\"loadMore\"}],staticClass:\"order-list\",attrs:{\"infinite-scroll-disabled\":\"loadComment\",\"infinite-scroll-immediate-check\":false,\"infinite-scroll-distance\":\"10\"}},_vm._l((_vm.list),function(item,idx){return _c('li',{key:idx},[_c('div',{staticClass:\"h\",on:{\"click\":function($event){_vm.goto('/order_detail/order_id/'+item.id)}}},[_vm._v(\"订单号：\"+_vm._s(item.order_number)+\"\\n                \"),_c('span',{staticClass:\"status\"},[_vm._v(_vm._s(item.order_status_txt))])]),_vm._v(\" \"),_vm._l((item.orders_goods),function(good,key){return _c('div',{key:key,staticClass:\"m\",on:{\"click\":function($event){_vm.goto('/order_detail/order_id/'+item.id)}}},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(good.good_img),expression:\"good.good_img\"}],attrs:{\"width\":\"50\",\"height\":\"50\"}}),_vm._v(\" \"),_c('div',{staticClass:\"info\"},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(good.good_title))])]),_vm._v(\" \"),_c('div',{staticClass:\"tool\"},[(item.pay_method == 3)?_c('div',[_vm._v(\"积分 \"+_vm._s(good.credits))]):_c('div',[_vm._v(\"￥\"+_vm._s(good.price))]),_vm._v(\" \"),_c('div',[_vm._v(\"x \"+_vm._s(good.buy_num))])])])}),_vm._v(\" \"),_c('div',{staticClass:\"b\"},[(item.pay_method == 3)?_c('div',[_vm._v(\"订单总额：积分 \"+_vm._s(item.minus_credits))]):_c('div',[_vm._v(\"订单总额：￥\"+_vm._s(item.total_amount))]),_vm._v(\" \"),_c('div',[(item.pay_status == 1 && item.pay_method != 2)?_c('button',{staticClass:\"ui-btn active\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.goto('/pay/order_id/'+item.id)}}},[_vm._v(\"付款\")]):_vm._e(),_vm._v(\" \"),(item.comment_status == 1)?_c('button',{staticClass:\"ui-btn active\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.goto('/start/order_id/'+item.id)}}},[_vm._v(\"评价\")]):_vm._e(),_vm._v(\" \"),(item.refund == 1)?_c('button',{staticClass:\"ui-btn active\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.refund(idx)}}},[_vm._v(\"退款\")]):_vm._e(),_vm._v(\" \"),(item.exchange == 1)?_c('button',{staticClass:\"ui-btn active\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.exchange(idx)}}},[_vm._v(\"换货\")]):_vm._e()])])],2)})):_c('div',{staticClass:\"nodata\"},[_c('i',{staticClass:\"iconfont icon-tongyongmeiyoushuju\"}),_vm._v(\" \"),_c('div',[_vm._v(\"您还没有订单记录~\")])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-51115196\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/mini/components/order.vue\n// module id = iIBT\n// module chunks = 17"],"sourceRoot":""}