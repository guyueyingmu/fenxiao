webpackJsonp([16],{"5qDw":function(t,i,s){"use strict";var e=s(2);i.a={name:"class",mixins:[e.default],data:function(){return{list:[],order_id:0,jsApiParameters:{}}},methods:{get_order_info:function(){var t=this;this.apiGet("/mini/Order/detail",{order_id:this.order_id}).then(function(i){i.code?(t.list=i.data,1==t.list.pay_method&&t.get_pay_info()):t.handleError(i)})},get_pay_info:function(){var t=this;this.apiGet("/mini/Payment/index",{order_id:this.order_id}).then(function(i){i.code?t.jsApiParameters=i.data.jsApiParameters:t.handleError(i)})},do_pay:function(){var t=this;console.log("微信支付"),"undefined"==typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",t.jsApiCall,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",t.jsApiCall),document.attachEvent("onWeixinJSBridgeReady",t.jsApiCall)):jsApiCall()},jsApiCall:function(){var t=this;WeixinJSBridge.invoke("getBrandWCPayRequest",t.jsApiParameters,function(i){"get_brand_wcpay_request:ok"==i.err_msg?t.goto("/paySuccess/order_id/"+t.order_id):"get_brand_wcpay_request:fail"==i.err_msg||i.err_msg})},credits:function(){var t=this,i={order_id:this.order_id};this.apiPost("/mini/Order/credits_exchange",i).then(function(i){i.code?t.goto("/success/order_id/"+t.order_id):t.handleError(i)})}},created:function(){this.setTitle("支付订单"),this.order_id=this.$route.params.order_id,this.get_order_info()}}},ZnG1:function(t,i,s){"use strict";var e=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"order"},[t.list.consignee_name?s("ul",{staticClass:"ui-links"},[s("li",[s("div",{staticClass:"title add_info"},[s("div",{staticClass:"flex"},[s("span",[t._v("收货人：")]),t._v(" "),s("i",[t._v(t._s(t.list.consignee_name))])]),t._v(" "),s("div",{staticClass:"flex"},[s("span",[t._v("手机号：")]),t._v(" "),s("i",[t._v(t._s(t.list.consignee_phone))])]),t._v(" "),s("div",{staticClass:"flex"},[s("span",[t._v("配送至：")]),t._v(" "),s("i",[t._v("\n                        "+t._s(t.list.consignee_address)+"\n                    ")])])])])]):t._e(),t._v(" "),t.list.consignee_name?s("div",{staticStyle:{height:"10px"}}):t._e(),t._v(" "),s("ul",{staticClass:"thumb-list l-t"},t._l(t.list.orders_goods,function(i,e){return s("li",{key:i.id},[s("img",{attrs:{src:i.good_img,width:"70",height:"70"}}),t._v(" "),s("div",{staticClass:"info"},[s("div",{staticClass:"title"},[t._v(t._s(i.good_title))]),t._v(" "),s("div",{staticClass:"tool"},[s("span",{staticClass:"grey"},[t._v("x "+t._s(i.buy_num))]),t._v(" "),4==i.good_type||5==i.good_type?s("span",{staticClass:"red"},[t._v("积分 "),s("em",[t._v(t._s(i.credits))])]):s("span",{staticClass:"red"},[t._v("￥"),s("em",[t._v(t._s(i.price))])])])])])})),t._v(" "),s("ul",{staticClass:"ui-fixd"},[s("li",[s("div",{staticClass:"m"},[t._v("商品总计")]),t._v(" "),4==t.list.orders_goods[0].good_type||5==t.list.orders_goods[0].good_type?s("div",{staticClass:"r"},[t._v("积分 "+t._s(t.list.minus_credits))]):s("div",{staticClass:"r"},[t._v("￥"+t._s(t.list.total_amount))])]),t._v(" "),s("li",[s("div",{staticClass:"m"},[t._v("应付总额")]),t._v(" "),4==t.list.orders_goods[0].good_type||5==t.list.orders_goods[0].good_type?s("div",{staticClass:"r"},[s("span",{staticClass:"price"},[t._v("积分 "),s("em",[t._v(t._s(t.list.minus_credits))])])]):s("div",{staticClass:"r"},[s("span",{staticClass:"price"},[t._v("￥"),s("em",[t._v(t._s(t.list.total_amount))])])])])]),t._v(" "),s("div",{staticClass:"btn-wrap"},[s("div",{staticClass:"btn-fixed"},[1==t.list.pay_method?s("button",{staticClass:"ui-btn ui-btn-block ui-btn-l2",attrs:{type:"button"},on:{click:function(i){t.do_pay()}}},[t._v("确定支付")]):t._e(),t._v(" "),3==t.list.pay_method?s("button",{staticClass:"ui-btn ui-btn-block ui-btn-l2",attrs:{type:"button"},on:{click:function(i){t.credits()}}},[t._v("确定兑换")]):t._e()])])])},a=[],n={render:e,staticRenderFns:a};i.a=n},qLDf:function(t,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e=s("5qDw"),a=s("ZnG1"),n=s("VU/8"),r=n(e.a,a.a,null,null,null);i.default=r.exports}});