webpackJsonp([26],{RztZ:function(t,e,a){"use strict";var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"tabs_p"},[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":t.onSelectedTabs},model:{value:t.tabs,callback:function(e){t.tabs=e},expression:"tabs"}},[a("el-tab-pane",{attrs:{label:"分成日志",name:"1"}}),t._v(" "),a("el-tab-pane",{attrs:{label:"已获佣",name:"2"}})],1)],1),t._v(" "),a("div",{staticClass:"page_heade"},[a("el-form",{attrs:{inline:!0,model:t.formInline}},[a("el-form-item",{attrs:{label:"获佣分销商用户ID"}},[a("el-input",{staticStyle:{width:"140px"},attrs:{placeholder:"获佣分销商用户ID"},model:{value:t.formInline.keyword,callback:function(e){t.formInline.keyword=e},expression:"formInline.keyword"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.onSearch()}}},[t._v("搜索")]),t._v(" "),t.isSearch?a("el-button",{attrs:{type:"danger"},on:{click:t.onReset}},[t._v("清空搜索")]):t._e()],1)],1)],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:t.loading,expression:"loading",modifiers:{body:!0}}],staticStyle:{width:"100%"},attrs:{data:t.list,border:""}},[a("el-table-column",{attrs:{prop:"order_number",label:"订单编号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"order_status_txt",label:"订单状态"}}),t._v(" "),a("el-table-column",{attrs:{prop:"order_user_id",label:"下单用户ID",width:"110"}}),t._v(" "),a("el-table-column",{attrs:{prop:"good_id",label:"商品ID"}}),t._v(" "),a("el-table-column",{attrs:{prop:"earn_amount",label:"获佣金额"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s(2==e.row.status?e.row.earn_amount_input:e.row.earn_amount)+"\n            ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"earn_user_id",label:"获佣分销商用户ID",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"level",label:"获佣级别"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s(1==e.row.level?"一级获佣":"二级获佣")+"\n            ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"获佣状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s(1==e.row.status?"等待获佣":"已获佣")+"\n            ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"earn_time",label:"获佣时间",width:"170"}}),t._v(" "),a("el-table-column",{attrs:{prop:"admin_user_id",label:"管理员ID"}}),t._v(" "),a("el-table-column",{attrs:{prop:"admin_user_name",align:"center",label:"管理员名称"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.status&&5==e.row.order_status?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.open_win(e.row)}}},[t._v("确定获佣")]):t._e()]}}])})],1),t._v(" "),a("div",{staticClass:"pagination"},[parseInt(t.pages.total_page,10)>1?a("el-pagination",{attrs:{"current-page":parseInt(t.pages.current_page,10),"page-size":parseInt(t.pages.limit,10),total:t.pages.total,layout:"total, prev, pager, next,jumper"},on:{"current-change":t.handleCurrentChange}}):t._e()],1),t._v(" "),a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:t.dalogi_loading,expression:"dalogi_loading"}],attrs:{title:"提示",visible:t.dialogFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.dialogForm,inline:!0}},[a("el-form-item",{attrs:{label:"获佣金额","label-width":"100px"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"获佣金额"},model:{value:t.dialogForm.earn_amount,callback:function(e){t.dialogForm.earn_amount=e},expression:"dialogForm.earn_amount"}})],1)],1),t._v(" "),a("div",{staticStyle:{color:"#8492A6","padding-top":"15px"}},[t._v("确定获佣后，则添加金额进该获佣分销商的获佣总额和账户余额！")]),t._v(" "),a("div",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.post_handle()}}},[t._v("确 定")])],1)],1)],1)},n=[],o={render:l,staticRenderFns:n};e.a=o},esFz:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=a("uRxz"),n=a("RztZ"),o=a("VU/8"),i=o(l.a,n.a,!1,null,null,null);e.default=i.exports},uRxz:function(t,e,a){"use strict";var l=a("RHyO");e.a={mixins:[l.default],data:function(){return{tabs:"1",isSearch:!1,dialogFormVisible:!1,dalogi_loading:!1,formInline:{keyword:"",status:1},list:[],dialogForm:{id:"",earn_amount:""}}},methods:{open_win:function(t){this.dialogForm.id=t.id,this.dialogForm.earn_amount=t.earn_amount,this.dialogFormVisible=!0},post_handle:function(){var t=this,e=this.dialogForm;t.dalogi_loading=!0,this.apiPost("/admin/Orderdislog/handle",e).then(function(e){e.code?(t.$message.success(e.msg),t.dialogFormVisible=!1,t.isSearch?t.onSearch(t.pages.current_page):t.get_list()):t.handleError(e),t.dalogi_loading=!1})},onSelectedTabs:function(t){var e=t.name,a={status:e};this.formInline.status=e,this.get_list(1,a)},onReset:function(){this.formInline.keyword="",this.get_list(1,this.formInline),this.isSearch=!1},onSearch:function(t){this.isSearch=!0,t=t||1;var e=this.formInline;this.get_list(t,e)},get_list:function(t,e){t=t||1;var a="/admin/Orderdislog/get_list?page="+t,l=this;l.loading=!0,this.apiGet(a,e).then(function(t){t.code?(l.list=t.data.list,l.pages=t.data.pages):l.handleError(t),l.loading=!1})}},created:function(){this.get_list(1,{status:1}),this.setBreadcrumb(["分销","分成日志"])}}}});