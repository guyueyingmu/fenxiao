webpackJsonp([12],{"4Z1t":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"page_heade"},[n("el-form",{attrs:{inline:!0,model:e.formInline}},[n("el-form-item",{attrs:{label:"角色名称"}},[n("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"角色名称"},model:{value:e.formInline.keyword,callback:function(t){e.formInline.keyword=t},expression:"formInline.keyword"}})],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.onSearch()}}},[e._v("搜索")]),e._v(" "),e.isSearch?n("el-button",{attrs:{type:"danger"},on:{click:e.onReset}},[e._v("清空搜索")]):e._e()],1)],1),e._v(" "),n("el-button",{staticClass:"goods_add_btn",attrs:{type:"warning"},on:{click:function(t){e.open(!1)}}},[e._v("添加管理员")])],1),e._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.loading,expression:"loading",modifiers:{body:!0}}],staticStyle:{width:"100%"},attrs:{data:e.list,border:"","row-class-name":e.tableRowClassName}},[n("el-table-column",{attrs:{prop:"id",label:"ID",width:"100"}}),e._v(" "),n("el-table-column",{attrs:{prop:"nickname",label:"管理员姓名",width:"150"}}),e._v(" "),n("el-table-column",{attrs:{prop:"user_name",label:"后台登录账号",width:"150"}}),e._v(" "),n("el-table-column",{attrs:{prop:"role_name",label:"所属角色",width:"180"}}),e._v(" "),n("el-table-column",{attrs:{prop:"login_time",label:"最近登录时间",width:"180"}}),e._v(" "),n("el-table-column",{attrs:{prop:"add_time",label:"添加时间",width:"180"}}),e._v(" "),n("el-table-column",{attrs:{prop:"status",label:"状态",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-radio-group",{attrs:{size:"small"},on:{change:function(n){e.changeStatus(t.row)}},model:{value:t.row.status,callback:function(e){t.row.status=e},expression:"scope.row.status"}},[n("el-radio-button",{attrs:{label:1}},[e._v("启用")]),e._v(" "),n("el-radio-button",{attrs:{label:2}},[e._v("禁用")])],1)]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){e.viewCtrl(t.row.role_id)}}},[e._v("查看权限")]),e._v(" "),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){e.open(!0,t.row)}}},[e._v("修改")]),e._v(" "),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){e.onRemove(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),n("div",{staticClass:"pagination"},[parseInt(e.pages.total_page,10)>1?n("el-pagination",{attrs:{"current-page":parseInt(e.pages.current_page,10),"page-size":parseInt(e.pages.limit,10),total:e.pages.total,layout:"total, prev, pager, next,jumper"},on:{"current-change":e.handleCurrentChange}}):e._e()],1),e._v(" "),n("el-dialog",{attrs:{title:"添加管理员",visible:e.dialogFormVisible,open:e.open},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[n("el-form",{attrs:{"label-width":"100px"}},[n("el-form-item",{attrs:{label:"管理员姓名"}},[n("el-input",{attrs:{"auto-complete":"off"},model:{value:e.dialog.nickname,callback:function(t){e.dialog.nickname=t},expression:"dialog.nickname"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"后台登录账号"}},[n("el-input",{attrs:{"auto-complete":"off"},model:{value:e.dialog.user_name,callback:function(t){e.dialog.user_name=t},expression:"dialog.user_name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"密码"}},[n("el-input",{attrs:{placeholder:"不输入则不修改","auto-complete":"off"},model:{value:e.dialog.password,callback:function(t){e.dialog.password=t},expression:"dialog.password"}})],1),e._v(" "),e.dialog.password?n("el-form-item",{attrs:{label:"确认密码"}},[n("el-input",{attrs:{"auto-complete":"off"},model:{value:e.dialog.repassword,callback:function(t){e.dialog.repassword=t},expression:"dialog.repassword"}})],1):e._e(),e._v(" "),n("el-form-item",{attrs:{label:"所属角色"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.dialog.role_id,callback:function(t){e.dialog.role_id=t},expression:"dialog.role_id"}},e._l(e.role_list,function(e){return n("el-option",{key:e.id,attrs:{label:e.role_name,value:e.id}})}))],1),e._v(" "),n("el-form-item",{attrs:{label:"状态"}},[n("el-radio-group",{model:{value:e.dialog.status,callback:function(t){e.dialog.status=t},expression:"dialog.status"}},[n("el-radio",{attrs:{label:1}},[e._v("启用")]),e._v(" "),n("el-radio",{attrs:{label:2}},[e._v("禁用")])],1)],1)],1),e._v(" "),n("div",{staticClass:"dialog-footer",slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.save_menu}},[e._v("确 定")])],1)],1),e._v(" "),n("el-dialog",{attrs:{title:"查看权限",visible:e.dialogFormVisible2},on:{"update:visible":function(t){e.dialogFormVisible2=t}}},[n("el-tree",{ref:"tree",attrs:{data:e.menu_list,"show-checkbox":"","node-key":"id"}}),e._v(" "),n("div",{staticClass:"dialog-footer",slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogFormVisible2=!1}}},[e._v("确 定")])],1)],1)],1)},i=[],a={render:o,staticRenderFns:i};t.a=a},"855/":function(e,t,n){e.exports=function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="/dist/",t(0)}({0:function(e,t,n){e.exports=n(354)},3:function(e,t){e.exports=function(e,t,n,o,i){var a,r=e=e||{},s=typeof e.default;"object"!==s&&"function"!==s||(a=e,r=e.default);var d="function"==typeof r?r.options:r;t&&(d.render=t.render,d.staticRenderFns=t.staticRenderFns),o&&(d._scopeId=o);var l;if(i?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},d._ssrRegister=l):n&&(l=n),l){var c=d.beforeCreate;d.beforeCreate=c?[].concat(c,l):[l]}return{esModule:a,exports:r,options:d}}},14:function(e,t){e.exports=n("fPll")},62:function(e,t){e.exports=n("urW8")},86:function(e,t){e.exports=n("Zcwg")},170:function(e,t){e.exports=n("jmaC")},308:function(e,t){e.exports=n("EKTV")},354:function(e,t,n){"use strict";t.__esModule=!0;var o=n(355),i=function(e){return e&&e.__esModule?e:{default:e}}(o);i.default.install=function(e){e.component(i.default.name,i.default)},t.default=i.default},355:function(e,t,n){var o=n(3)(n(356),n(363),null,null,null);e.exports=o.exports},356:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(357),a=o(i),r=n(62),s=n(14),d=o(s);t.default={name:"ElTree",mixins:[d.default],components:{ElTreeNode:n(360)},data:function(){return{store:null,root:null,currentNode:null}},props:{data:{type:Array},emptyText:{type:String,default:function(){return(0,r.t)("el.tree.emptyText")}},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,renderContent:Function,showCheckbox:{type:Boolean,default:!1},props:{default:function(){return{children:"children",label:"label",icon:"icon",disabled:"disabled"}}},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,currentNodeKey:[String,Number],load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:16}},computed:{children:{set:function(e){this.data=e},get:function(){return this.data}}},watch:{defaultCheckedKeys:function(e){this.store.defaultCheckedKeys=e,this.store.setDefaultCheckedKey(e)},defaultExpandedKeys:function(e){this.store.defaultExpandedKeys=e,this.store.setDefaultExpandedKeys(e)},currentNodeKey:function(e){this.store.setCurrentNodeKey(e),this.store.currentNodeKey=e},data:function(e){this.store.setData(e)}},methods:{filter:function(e){if(!this.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");this.store.filter(e)},getNodeKey:function(e,t){var n=this.nodeKey;return n&&e?e.data[n]:t},getCheckedNodes:function(e){return this.store.getCheckedNodes(e)},getCheckedKeys:function(e){return this.store.getCheckedKeys(e)},setCheckedNodes:function(e,t){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");this.store.setCheckedNodes(e,t)},setCheckedKeys:function(e,t){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");this.store.setCheckedKeys(e,t)},setChecked:function(e,t,n){this.store.setChecked(e,t,n)},handleNodeExpand:function(e,t,n){this.broadcast("ElTreeNode","tree-node-expand",t),this.$emit("node-expand",e,t,n)}},created:function(){this.isTree=!0,this.store=new a.default({key:this.nodeKey,data:this.data,lazy:this.lazy,props:this.props,load:this.load,currentNodeKey:this.currentNodeKey,checkStrictly:this.checkStrictly,defaultCheckedKeys:this.defaultCheckedKeys,defaultExpandedKeys:this.defaultExpandedKeys,autoExpandParent:this.autoExpandParent,defaultExpandAll:this.defaultExpandAll,filterNodeMethod:this.filterNodeMethod}),this.root=this.store.root}}},357:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(358),r=function(e){return e&&e.__esModule?e:{default:e}}(a),s=n(359),d=function(){function e(t){var n=this;o(this,e),this.currentNode=null,this.currentNodeKey=null;for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);if(this.nodesMap={},this.root=new r.default({data:this.data,store:this}),this.lazy&&this.load){(0,this.load)(this.root,function(e){n.root.doCreateChildren(e),n._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}return e.prototype.filter=function(e){var t=this.filterNodeMethod;!function n(o){var i=o.root?o.root.childNodes:o.childNodes;if(i.forEach(function(o){o.visible=t.call(o,e,o.data,o),n(o)}),!o.visible&&i.length){var a=!0;i.forEach(function(e){e.visible&&(a=!1)}),o.root?o.root.visible=!1===a:o.visible=!1===a}o.visible&&!o.isLeaf&&o.expand()}(this)},e.prototype.setData=function(e){var t=e!==this.root.data;this.root.setData(e),t&&this._initDefaultCheckedNodes()},e.prototype.getNode=function(e){var t="object"!==(void 0===e?"undefined":i(e))?e:(0,s.getNodeKey)(this.key,e);return this.nodesMap[t]},e.prototype.insertBefore=function(e,t){var n=this.getNode(t);n.parent.insertBefore({data:e},n)},e.prototype.insertAfter=function(e,t){var n=this.getNode(t);n.parent.insertAfter({data:e},n)},e.prototype.remove=function(e){var t=this.getNode(e);t&&t.parent.removeChild(t)},e.prototype.append=function(e,t){var n=t?this.getNode(t):this.root;n&&n.insertChild({data:e})},e.prototype._initDefaultCheckedNodes=function(){var e=this,t=this.defaultCheckedKeys||[],n=this.nodesMap;t.forEach(function(t){var o=n[t];o&&o.setChecked(!0,!e.checkStrictly)})},e.prototype._initDefaultCheckedNode=function(e){-1!==(this.defaultCheckedKeys||[]).indexOf(e.key)&&e.setChecked(!0,!this.checkStrictly)},e.prototype.setDefaultCheckedKey=function(e){e!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=e,this._initDefaultCheckedNodes())},e.prototype.registerNode=function(e){this.key&&e&&e.data&&(void 0!==e.key&&(this.nodesMap[e.key]=e))},e.prototype.deregisterNode=function(e){this.key&&e&&e.data&&delete this.nodesMap[e.key]},e.prototype.getCheckedNodes=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[];return function n(o){(o.root?o.root.childNodes:o.childNodes).forEach(function(o){(!e&&o.checked||e&&o.isLeaf&&o.checked)&&t.push(o.data),n(o)})}(this),t},e.prototype.getCheckedKeys=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.key,n=this._getAllNodes(),o=[];return n.forEach(function(n){(!e||e&&n.isLeaf)&&n.checked&&o.push((n.data||{})[t])}),o},e.prototype._getAllNodes=function(){var e=[],t=this.nodesMap;for(var n in t)t.hasOwnProperty(n)&&e.push(t[n]);return e},e.prototype._setCheckedKeys=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments[2],o=this._getAllNodes().sort(function(e,t){return t.level-e.level}),i=Object.create(null),a=Object.keys(n);o.forEach(function(e){return e.setChecked(!1,!1)});for(var r=0,s=o.length;r<s;r++){var d=o[r],l=d.data[e].toString();if(a.indexOf(l)>-1){for(var c=d.parent;c&&c.level>0;)i[c.data[e]]=!0,c=c.parent;d.isLeaf||this.checkStrictly?d.setChecked(!0,!1):(d.setChecked(!0,!0),t&&function(){d.setChecked(!1,!1);!function e(t){t.childNodes.forEach(function(t){t.isLeaf||t.setChecked(!1,!1),e(t)})}(d)}())}else d.checked&&!i[l]&&d.setChecked(!1,!1)}},e.prototype.setCheckedNodes=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.key,o={};e.forEach(function(e){o[(e||{})[n]]=!0}),this._setCheckedKeys(n,t,o)},e.prototype.setCheckedKeys=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.defaultCheckedKeys=e;var n=this.key,o={};e.forEach(function(e){o[e]=!0}),this._setCheckedKeys(n,t,o)},e.prototype.setDefaultExpandedKeys=function(e){var t=this;e=e||[],this.defaultExpandedKeys=e,e.forEach(function(e){var n=t.getNode(e);n&&n.expand(null,t.autoExpandParent)})},e.prototype.setChecked=function(e,t,n){var o=this.getNode(e);o&&o.setChecked(!!t,n)},e.prototype.getCurrentNode=function(){return this.currentNode},e.prototype.setCurrentNode=function(e){this.currentNode=e},e.prototype.setCurrentNodeKey=function(e){var t=this.getNode(e);t&&(this.currentNode=t)},e}();t.default=d},358:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0,t.getChildState=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(170),r=function(e){return e&&e.__esModule?e:{default:e}}(a),s=n(359),d=t.getChildState=function(e){for(var t=!0,n=!0,o=!0,i=0,a=e.length;i<a;i++){var r=e[i];(!0!==r.checked||r.indeterminate)&&(t=!1,r.disabled||(o=!1)),(!1!==r.checked||r.indeterminate)&&(n=!1)}return{all:t,none:n,allWithoutDisable:o,half:!t&&!n}},l=function e(t){var n=d(t.childNodes),o=n.all,i=n.none,a=n.half;o?(t.checked=!0,t.indeterminate=!1):a?(t.checked=!1,t.indeterminate=!0):i&&(t.checked=!1,t.indeterminate=!1);var r=t.parent;r&&0!==r.level&&(t.store.checkStrictly||e(r))},c=function(e){var t=e.childNodes;if(e.checked)for(var n=0,o=t.length;n<o;n++){var i=t[n];i.disabled||(i.checked=!0)}var a=e.parent;a&&0!==a.level&&l(a)},h=function(e,t){var n=e.store.props,o=e.data||{},i=n[t];return"function"==typeof i?i(o,e):"string"==typeof i?o[i]:void 0===i?"":void 0},u=0,f=function(){function e(t){o(this,e),this.id=u++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0;for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1);var i=this.store;if(!i)throw new Error("[Node]store is required!");i.registerNode(this);var a=i.props;if(a&&void 0!==a.isLeaf){var r=h(this,"isLeaf");"boolean"==typeof r&&(this.isLeafByUser=r)}if(!0!==i.lazy&&this.data?(this.setData(this.data),i.defaultExpandAll&&(this.expanded=!0)):this.level>0&&i.lazy&&i.defaultExpandAll&&this.expand(),this.data){var s=i.defaultExpandedKeys,d=i.key;d&&s&&-1!==s.indexOf(this.key)&&this.expand(null,i.autoExpandParent),d&&i.currentNodeKey&&this.key===i.currentNodeKey&&(i.currentNode=this),i.lazy&&i._initDefaultCheckedNode(this),this.updateLeafState()}}return e.prototype.setData=function(e){Array.isArray(e)||(0,s.markNodeData)(this,e),this.data=e,this.childNodes=[];var t=void 0;t=0===this.level&&this.data instanceof Array?this.data:h(this,"children")||[];for(var n=0,o=t.length;n<o;n++)this.insertChild({data:t[n]})},e.prototype.insertChild=function(t,n){if(!t)throw new Error("insertChild error: child is required.");t instanceof e||((0,r.default)(t,{parent:this,store:this.store}),t=new e(t)),t.level=this.level+1,void 0===n||n<0?this.childNodes.push(t):this.childNodes.splice(n,0,t),this.updateLeafState()},e.prototype.insertBefore=function(e,t){var n=void 0;t&&(n=this.childNodes.indexOf(t)),this.insertChild(e,n)},e.prototype.insertAfter=function(e,t){var n=void 0;t&&-1!==(n=this.childNodes.indexOf(t))&&(n+=1),this.insertChild(e,n)},e.prototype.removeChild=function(e){var t=this.childNodes.indexOf(e);t>-1&&(this.store&&this.store.deregisterNode(e),e.parent=null,this.childNodes.splice(t,1)),this.updateLeafState()},e.prototype.removeChildByData=function(e){var t=null;this.childNodes.forEach(function(n){n.data===e&&(t=n)}),t&&this.removeChild(t)},e.prototype.expand=function(e,t){var n=this,o=function(){if(t)for(var o=n.parent;o.level>0;)o.expanded=!0,o=o.parent;n.expanded=!0,e&&e()};this.shouldLoadData()?this.loadData(function(e){e instanceof Array&&(c(n),o())}):o()},e.prototype.doCreateChildren=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.forEach(function(e){t.insertChild((0,r.default)({data:e},n))})},e.prototype.collapse=function(){this.expanded=!1},e.prototype.shouldLoadData=function(){return!0===this.store.lazy&&this.store.load&&!this.loaded},e.prototype.updateLeafState=function(){if(!0===this.store.lazy&&!0!==this.loaded&&void 0!==this.isLeafByUser)return void(this.isLeaf=this.isLeafByUser);var e=this.childNodes;if(!this.store.lazy||!0===this.store.lazy&&!0===this.loaded)return void(this.isLeaf=!e||0===e.length);this.isLeaf=!1},e.prototype.setChecked=function(e,t,n,o){var i=this;this.indeterminate="half"===e,this.checked=!0===e;var a=d(this.childNodes),r=a.all,s=a.allWithoutDisable;this.childNodes.length&&!r&&s&&(this.checked=!1,e=!1);var c=function(n){if(t&&!n){for(var a=i.childNodes,r=0,s=a.length;r<s;r++){var l=a[r];o=o||!1!==e;var c=l.disabled?l.checked:o;l.setChecked(c,t,!0,o)}var h=d(a),u=h.half,f=h.all;f||(i.checked=f,i.indeterminate=u)}};!this.store.checkStrictly&&this.shouldLoadData()?this.loadData(function(){c(!0)},{checked:!1!==e}):c();var h=this.parent;h&&0!==h.level&&(this.store.checkStrictly||n||l(h))},e.prototype.getChildren=function(){var e=this.data;if(!e)return null;var t=this.store.props,n="children";return t&&(n=t.children||"children"),void 0===e[n]&&(e[n]=null),e[n]},e.prototype.updateChildren=function(){var e=this,t=this.getChildren()||[],n=this.childNodes.map(function(e){return e.data}),o={},i=[];t.forEach(function(e,t){e[s.NODE_KEY]?o[e[s.NODE_KEY]]={index:t,data:e}:i.push({index:t,data:e})}),n.forEach(function(t){o[t[s.NODE_KEY]]||e.removeChildByData(t)}),i.forEach(function(t){var n=t.index,o=t.data;e.insertChild({data:o},n)}),this.updateLeafState()},e.prototype.loadData=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!0!==this.store.lazy||!this.store.load||this.loaded||this.loading&&!Object.keys(n).length)e&&e.call(this);else{this.loading=!0;var o=function(o){t.loaded=!0,t.loading=!1,t.childNodes=[],t.doCreateChildren(o,n),t.updateLeafState(),e&&e.call(t,o)};this.store.load(this,o)}},i(e,[{key:"label",get:function(){return h(this,"label")}},{key:"icon",get:function(){return h(this,"icon")}},{key:"key",get:function(){var e=this.store.key;return this.data?this.data[e]:null}},{key:"disabled",get:function(){return h(this,"disabled")}}]),e}();t.default=f},359:function(e,t){"use strict";t.__esModule=!0;var n=t.NODE_KEY="$treeNodeId";t.markNodeData=function(e,t){t[n]||Object.defineProperty(t,n,{value:e.id,enumerable:!1,configurable:!1,writable:!1})},t.getNodeKey=function(e,t){return e?t[e]:t[n]}},360:function(e,t,n){var o=n(3)(n(361),n(362),null,null,null);e.exports=o.exports},361:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(86),a=o(i),r=n(308),s=o(r),d=n(14),l=o(d);t.default={name:"ElTreeNode",componentName:"ElTreeNode",mixins:[l.default],props:{node:{default:function(){return{}}},props:{},renderContent:Function},components:{ElCollapseTransition:a.default,ElCheckbox:s.default,NodeContent:{props:{node:{required:!0}},render:function(e){var t=this.$parent,n=this.node,o=n.data,i=n.store;return t.renderContent?t.renderContent.call(t._renderProxy,e,{_self:t.tree.$vnode.context,node:n,data:o,store:i}):e("span",{class:"el-tree-node__label"},[this.node.label])}}},data:function(){return{tree:null,expanded:!1,childNodeRendered:!1,showCheckbox:!1,oldChecked:null,oldIndeterminate:null}},watch:{"node.indeterminate":function(e){this.handleSelectChange(this.node.checked,e)},"node.checked":function(e){this.handleSelectChange(e,this.node.indeterminate)},"node.expanded":function(e){this.expanded=e,e&&(this.childNodeRendered=!0)}},methods:{getNodeKey:function(e,t){var n=this.tree.nodeKey;return n&&e?e.data[n]:t},handleSelectChange:function(e,t){this.oldChecked!==e&&this.oldIndeterminate!==t&&this.tree.$emit("check-change",this.node.data,e,t),this.oldChecked=e,this.indeterminate=t},handleClick:function(){var e=this.tree.store;e.setCurrentNode(this.node),this.tree.$emit("current-change",e.currentNode?e.currentNode.data:null,e.currentNode),this.tree.currentNode=this,this.tree.expandOnClickNode&&this.handleExpandIconClick(),this.tree.$emit("node-click",this.node.data,this.node,this)},handleExpandIconClick:function(){this.node.isLeaf||(this.expanded?(this.tree.$emit("node-collapse",this.node.data,this.node,this),this.node.collapse()):(this.node.expand(),this.$emit("node-expand",this.node.data,this.node,this)))},handleCheckChange:function(e){this.node.setChecked(e.target.checked,!this.tree.checkStrictly)},handleChildNodeExpand:function(e,t,n){this.broadcast("ElTreeNode","tree-node-expand",t),this.tree.$emit("node-expand",e,t,n)}},created:function(){var e=this,t=this.$parent;t.isTree?this.tree=t:this.tree=t.tree;var n=this.tree;n||console.warn("Can not find node's tree.");var o=n.props||{},i=o.children||"children";this.$watch("node.data."+i,function(){e.node.updateChildren()}),this.showCheckbox=n.showCheckbox,this.node.expanded&&(this.expanded=!0,this.childNodeRendered=!0),this.tree.accordion&&this.$on("tree-node-expand",function(t){e.node!==t&&e.node.collapse()})}}},362:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.node.visible,expression:"node.visible"}],staticClass:"el-tree-node",class:{"is-expanded":e.childNodeRendered&&e.expanded,"is-current":e.tree.store.currentNode===e.node,"is-hidden":!e.node.visible},on:{click:function(t){t.stopPropagation(),e.handleClick(t)}}},[n("div",{staticClass:"el-tree-node__content",style:{"padding-left":(e.node.level-1)*e.tree.indent+"px"}},[n("span",{staticClass:"el-tree-node__expand-icon",class:{"is-leaf":e.node.isLeaf,expanded:!e.node.isLeaf&&e.expanded},on:{click:function(t){t.stopPropagation(),e.handleExpandIconClick(t)}}}),e.showCheckbox?n("el-checkbox",{attrs:{indeterminate:e.node.indeterminate,disabled:!!e.node.disabled},on:{change:e.handleCheckChange},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:e.node.checked,callback:function(t){e.node.checked=t},expression:"node.checked"}}):e._e(),e.node.loading?n("span",{staticClass:"el-tree-node__loading-icon el-icon-loading"}):e._e(),n("node-content",{attrs:{node:e.node}})],1),n("el-collapse-transition",[n("div",{directives:[{name:"show",rawName:"v-show",value:e.expanded,expression:"expanded"}],staticClass:"el-tree-node__children"},e._l(e.node.childNodes,function(t){return n("el-tree-node",{key:e.getNodeKey(t),attrs:{"render-content":e.renderContent,node:t},on:{"node-expand":e.handleChildNodeExpand}})}))])],1)},staticRenderFns:[]}},363:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"el-tree",class:{"el-tree--highlight-current":e.highlightCurrent}},[e._l(e.root.childNodes,function(t){return n("el-tree-node",{key:e.getNodeKey(t),attrs:{node:t,props:e.props,"render-content":e.renderContent},on:{"node-expand":e.handleNodeExpand}})}),e.root.childNodes&&0!==e.root.childNodes.length?e._e():n("div",{staticClass:"el-tree__empty-block"},[n("span",{staticClass:"el-tree__empty-text"},[e._v(e._s(e.emptyText))])])],2)},staticRenderFns:[]}}})},AagS:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("o15R"),i=n("4Z1t"),a=n("VU/8"),r=a(o.a,i.a,null,null,null);t.default=r.exports},MJJC:function(e,t,n){t=e.exports=n("FZ+f")(!1),t.push([e.i,".el-tree{cursor:default;background:#fff;border:1px solid #d1dbe5}.el-tree__empty-block{position:relative;min-height:60px;text-align:center;width:100%;height:100%}.el-tree__empty-text{position:absolute;left:50%;top:50%;-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);color:#5e7382}.el-tree-node{white-space:nowrap}.el-tree-node>.el-tree-node__children{overflow:hidden;background-color:transparent}.el-tree-node.is-expanded>.el-tree-node__children{display:block}.el-tree-node__expand-icon,.el-tree-node__label,.el-tree-node__loading-icon{display:inline-block;vertical-align:middle}.el-tree-node__content{line-height:36px;height:36px;cursor:pointer}.el-tree-node__content>.el-checkbox,.el-tree-node__content>.el-tree-node__expand-icon{margin-right:8px}.el-tree-node__content>.el-checkbox{vertical-align:middle}.el-tree-node__content:hover{background:#e4e8f1}.el-tree-node__expand-icon{cursor:pointer;width:0;height:0;margin-left:10px;border:6px solid transparent;border-right-width:0;border-left-color:#97a8be;border-left-width:7px;-ms-transform:rotate(0);transform:rotate(0);transition:transform .3s ease-in-out}.el-tree-node__expand-icon:hover{border-left-color:#999}.el-tree-node__expand-icon.expanded{-ms-transform:rotate(90deg);transform:rotate(90deg)}.el-tree-node__expand-icon.is-leaf{border-color:transparent;cursor:default}.el-tree-node__label{font-size:14px}.el-tree-node__loading-icon{margin-right:4px;font-size:14px;color:#97a8be}.el-tree--highlight-current .el-tree-node.is-current>.el-tree-node__content{background-color:#edf7ff}",""])},kaDZ:function(e,t,n){var o=n("MJJC");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n("rjj0")("8e2968f0",o,!0)},o15R:function(e,t,n){"use strict";var o=n("kaDZ"),i=(n.n(o),n("psK2")),a=(n.n(i),n("855/")),r=n.n(a),s=n("//TE");t.a={mixins:[s.a],components:{"el-tree":r.a},data:function(){return{isSearch:!1,formInline:{keyword:""},menu_list:[],dialogFormVisible:!1,dialogFormVisible2:!1,dialogLoading:!1,role_list:[],dialog:{nickname:"",user_name:"",repassword:"",password:"",role_id:"",status:""},list:[]}},methods:{tableRowClassName:function(e,t){return 2==e.status?"status_off":""},getType:function(e){var t=parseInt(e,10);return this.$store.getters.GOODTYPE[t-1].label},onReset:function(){this.formInline={keyword:""},this.get_list(1),this.isSearch=!1},onSearch:function(e){this.isSearch=!0,e=e||1;var t=this.formInline;this.get_list(e,t)},get_list:function(e,t){e=e||1;var n="/admin/Manager/get_list?page="+e,o=this;o.loading=!0,this.apiGet(n,t).then(function(e){e.code?(o.list=e.data.list,o.pages=e.data.pages):o.handleError(e),o.loading=!1})},onRemove:function(e){var t=this;this.$confirm("你确定要删除该用户, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.removeData(e)}).catch(function(){})},removeData:function(e){var t="/admin/manager/del_user?user_id="+e.id,n=this;n.loading=!0,this.apiGet(t).then(function(e){e.code?(n.$message({type:"success",message:e.msg}),n.get_list()):n.handleError(e),n.loading=!1})},open:function(e,t){this.dialogFormVisible=!0;var n=this;setTimeout(function(){e?(n.dialog.nickname=t.nickname,n.dialog.user_name=t.user_name,n.dialog.role_id=t.role_id,n.dialog.user_id=t.id,n.dialog.status=t.status,n.dialog.password="",n.dialog.repassword=""):(n.dialog.nickname="",n.dialog.user_name="",n.dialog.status=1)},100)},changeStatus:function(e){var t=this,n={user_id:e.id,status:e.status};this.apiPost("/admin/manager/modify_user",n).then(function(e){t.dialogLoading=!1,e.code?(t.$message.success(e.msg),t.dialogFormVisible=!1):t.handleError(e)})},get_role_list:function(){var e=this;this.apiGet("/admin/manager/add_user").then(function(t){t.code?e.role_list=t.data.role:e.handleError(t)})},save_menu:function(){var e=this;this.apiPost("/admin/manager/save_user",e.dialog).then(function(t){e.dialogLoading=!1,t.code?(e.$message.success(t.msg),e.dialogFormVisible=!1,e.get_list()):e.handleError(t)})},viewCtrl:function(e){this.dialogFormVisible2=!0;var t=this,n="/admin/manager/view_ctrl?role_id="+e;this.apiGet(n).then(function(e){if(e.code){t.menu_list=e.data.menu;var n=e.data.auth;t.$refs.tree.setCheckedKeys(n)}else t.handleError(e)})}},created:function(){this.get_list(),this.get_role_list(),this.setBreadcrumb(["系统","管理员"])}}}});