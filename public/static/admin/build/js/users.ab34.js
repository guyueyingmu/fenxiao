webpackJsonp([3],{ErXA:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l("oxKy"),i=l("psiw"),o=l("VU/8"),r=o(a.a,i.a,null,null,null);t.default=r.exports},oxKy:function(e,t,l){"use strict";var a=l(5),i=l(2);l.n(i);t.a={mixins:[a.default],components:{"el-date-picker":i.DatePicker,"el-input-number":i.InputNumber},data:function(){return{isSearch:!1,dalogi_loading:!1,dialogFormVisible:!1,dialogForm:{id:0,nickname:"",credits:0,status:0},formInline:{keyword:"",start_time:"",end_time:"",status:"",credits_sort:"",account_sort:""},list:[]}},methods:{fromDate:function(e){if(e){var t=e.split(" - ");this.formInline.start_time=t[0],this.formInline.end_time=t[1]}},open_set:function(e){this.dialogForm={id:e.id,nickname:e.nickname,credits:e.credits,status:e.status},this.dialogFormVisible=!0},send_set:function(){var e=this,t=this.dialogForm;e.dalogi_loading=!0,this.apiPost("/admin/User/handle",t).then(function(t){t.code?(e.$message.success(t.msg),e.dialogFormVisible=!1,e.isSearch?e.onSearch(e.pages.current_page):e.get_list()):e.handleError(t),e.dalogi_loading=!1})},onReset:function(){this.formInline={keyword:"",start_time:"",end_time:"",status:"",credits_sort:"",account_sort:""},this.value7="",this.get_list(1),this.isSearch=!1},onSearch:function(e){this.isSearch=!0,e=e||1;var t=this.formInline;this.get_list(e,t)},get_list:function(e,t){e=e||1;var l="/admin/User/get_list?page="+e,a=this;a.loading=!0,this.apiGet(l,t).then(function(e){e.code?(a.list=e.data.list,a.pages=e.data.pages):a.handleError(e),a.loading=!1})}},created:function(){this.get_list(),this.setBreadcrumb(["用户","用户列表"])}}},psiw:function(e,t,l){"use strict";var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("div",{staticClass:"page_heade",on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13))return null;e.onSearch()}}},[l("el-form",{attrs:{inline:!0,model:e.formInline}},[l("el-form-item",{attrs:{label:"用户昵称/手机号码"}},[l("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:"用户昵称/手机号码"},model:{value:e.formInline.keyword,callback:function(t){e.formInline.keyword=t},expression:"formInline.keyword"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"注册时间"}},[l("el-date-picker",{attrs:{type:"daterange",align:"right",placeholder:"选择日期范围","picker-options":e.pickerOptions},on:{change:e.fromDate},model:{value:e.value7,callback:function(t){e.value7=t},expression:"value7"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"状态"}},[l("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"状态",clearable:""},model:{value:e.formInline.status,callback:function(t){e.formInline.status=t},expression:"formInline.status"}},[l("el-option",{attrs:{value:1,label:"启用"}}),e._v(" "),l("el-option",{attrs:{value:2,label:"禁用"}})],1)],1),e._v(" "),l("el-form-item",{attrs:{label:"积分排序"}},[l("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"积分排序",clearable:""},model:{value:e.formInline.credits_sort,callback:function(t){e.formInline.credits_sort=t},expression:"formInline.credits_sort"}},[l("el-option",{attrs:{value:1,label:"降序"}}),e._v(" "),l("el-option",{attrs:{value:2,label:"升序"}})],1)],1),e._v(" "),l("el-form-item",{attrs:{label:"账户余额排序"}},[l("el-select",{staticStyle:{width:"120px"},attrs:{placeholder:"账户余额排序",clearable:""},model:{value:e.formInline.account_sort,callback:function(t){e.formInline.account_sort=t},expression:"formInline.account_sort"}},[l("el-option",{attrs:{value:1,label:"降序"}}),e._v(" "),l("el-option",{attrs:{value:2,label:"升序"}})],1)],1),e._v(" "),l("el-form-item",[l("el-button",{attrs:{type:"primary"},on:{click:function(t){e.onSearch()}}},[e._v("搜索")]),e._v(" "),e.isSearch?l("el-button",{attrs:{type:"danger"},on:{click:e.onReset}},[e._v("清空搜索")]):e._e()],1)],1)],1),e._v(" "),l("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.loading,expression:"loading",modifiers:{body:!0}}],staticStyle:{width:"100%"},attrs:{data:e.list,border:""}},[l("el-table-column",{attrs:{prop:"id",label:"用户ID",width:"100"}}),e._v(" "),l("el-table-column",{attrs:{prop:"nickname",label:"用户昵称"}}),e._v(" "),l("el-table-column",{attrs:{prop:"img_url",label:"头像",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.img_url?l("img",{staticStyle:{width:"50px"},attrs:{src:t.row.img_url}}):e._e()]}}])}),e._v(" "),l("el-table-column",{attrs:{prop:"sex",label:"性别",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(1===t.row.sex?"男":2===t.row.sex?"女":"保密")+"\n            ")]}}])}),e._v(" "),l("el-table-column",{attrs:{prop:"province",label:"省份",width:"100"}}),e._v(" "),l("el-table-column",{attrs:{prop:"city",label:"城市",width:"100"}}),e._v(" "),l("el-table-column",{attrs:{prop:"phone_number",label:"手机号码",width:"150"}}),e._v(" "),l("el-table-column",{attrs:{prop:"credits",label:"积分",width:"100"}}),e._v(" "),l("el-table-column",{attrs:{prop:"account_balance",label:"账户余额",width:"100"}}),e._v(" "),l("el-table-column",{attrs:{prop:"status",label:"登录状态",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(1===t.row.status?"启用":"禁用")+"\n            ")]}}])}),e._v(" "),l("el-table-column",{attrs:{prop:"register_time",label:"注册时间",width:"150"}}),e._v(" "),l("el-table-column",{attrs:{prop:"last_login_time",label:"最近登录时间",width:"150"}}),e._v(" "),l("el-table-column",{attrs:{label:"操作",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-button",{attrs:{type:"text",size:"small"},on:{click:function(l){e.open_set(t.row)}}},[e._v("设置")])]}}])})],1),e._v(" "),l("div",{staticClass:"pagination"},[parseInt(e.pages.total_page,10)>1?l("el-pagination",{attrs:{"current-page":parseInt(e.pages.current_page,10),"page-size":parseInt(e.pages.limit,10),total:e.pages.total,layout:"total, prev, pager, next,jumper"},on:{"current-change":e.handleCurrentChange}}):e._e()],1),e._v(" "),l("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.dalogi_loading,expression:"dalogi_loading"}],attrs:{title:"设置",visible:e.dialogFormVisible,size:"tiny","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[l("el-form",{attrs:{model:e.dialogForm,inline:!0}},[l("div",[l("el-form-item",{attrs:{label:"用户ID","label-width":"100px"}},[l("el-input",{attrs:{placeholder:"用户ID",disabled:!0},model:{value:e.dialogForm.id,callback:function(t){e.dialogForm.id=t},expression:"dialogForm.id"}})],1)],1),e._v(" "),l("div",[l("el-form-item",{attrs:{label:"用户昵称","label-width":"100px"}},[l("el-input",{attrs:{placeholder:"用户昵称",disabled:!0},model:{value:e.dialogForm.nickname,callback:function(t){e.dialogForm.nickname=t},expression:"dialogForm.nickname"}})],1)],1),e._v(" "),l("div",[l("el-form-item",{attrs:{label:"用户积分","label-width":"100px"}},[l("el-input-number",{attrs:{min:0,max:9999999,placeholder:"用户积分"},model:{value:e.dialogForm.credits,callback:function(t){e.dialogForm.credits=t},expression:"dialogForm.credits"}})],1)],1),e._v(" "),l("div",[l("el-form-item",{attrs:{label:"登录状态","label-width":"100px"}},[l("el-select",{staticStyle:{width:"120px"},attrs:{placeholder:"状态",clearable:""},model:{value:e.dialogForm.status,callback:function(t){e.dialogForm.status=t},expression:"dialogForm.status"}},[l("el-option",{attrs:{value:1,label:"启用"}}),e._v(" "),l("el-option",{attrs:{value:2,label:"禁用"}})],1)],1)],1)]),e._v(" "),l("div",{staticClass:"dialog-footer",slot:"footer"},[l("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:e.send_set}},[e._v("确 定")])],1)],1)],1)},i=[],o={render:a,staticRenderFns:i};t.a=o}});